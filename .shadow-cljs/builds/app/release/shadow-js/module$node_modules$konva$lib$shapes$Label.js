["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/konva/lib/shapes/Label.js"],"~:js","shadow$provide[57]=function(n,e,t,k){var w=this&&this.__extends||function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return b(d,a)};return function(d,a){function c(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();Object.defineProperty(k,\"__esModule\",{value:!0});n=e(22);t=e(24);var v=e(33),x=e(36),q=e(23);e=e(21);var m=\n\"fontFamily fontSize fontStyle padding lineHeight text width\".split(\" \"),d=m.length;x=function(b){function h(a){a=b.call(this,a)||this;a.on(\"add.konva\",function(a){this._addListeners(a.child);this._sync()});return a}w(h,b);h.prototype.getText=function(){return this.find(\"Text\")[0]};h.prototype.getTag=function(){return this.find(\"Tag\")[0]};h.prototype._addListeners=function(a){var b=this,h,e=function(){b._sync()};for(h=0;h<d;h++)a.on(m[h]+\"Change.konva\",e)};h.prototype.getWidth=function(){return this.getText().width()};\nh.prototype.getHeight=function(){return this.getText().height()};h.prototype._sync=function(){var a=this.getText(),b=this.getTag(),d;if(a&&b){var h=a.width();var e=a.height();var m=b.pointerDirection();var k=b.pointerWidth();var q=b.pointerHeight();var n=d=0;switch(m){case \"up\":d=h/2;n=-1*q;break;case \"right\":d=h+k;n=e/2;break;case \"down\":d=h/2;n=e+q;break;case \"left\":d=-1*k,n=e/2}b.setAttrs({x:-1*d,y:-1*n,width:h,height:e});a.setAttrs({x:-1*d,y:-1*n})}};return h}(x.Group);k.Label=x;x.prototype.className=\n\"Label\";e._registerNode(x);n.Collection.mapMethods(x);v=function(b){function d(){return null!==b&&b.apply(this,arguments)||this}w(d,b);d.prototype._sceneFunc=function(a){var b=this.width(),d=this.height(),h=this.pointerDirection(),e=this.pointerWidth(),m=this.pointerHeight(),k=Math.min(this.cornerRadius(),b/2,d/2);a.beginPath();k?a.moveTo(k,0):a.moveTo(0,0);\"up\"===h&&(a.lineTo((b-e)/2,0),a.lineTo(b/2,-1*m),a.lineTo((b+e)/2,0));k?(a.lineTo(b-k,0),a.arc(b-k,k,k,3*Math.PI/2,0,!1)):a.lineTo(b,0);\"right\"===\nh&&(a.lineTo(b,(d-m)/2),a.lineTo(b+e,d/2),a.lineTo(b,(d+m)/2));k?(a.lineTo(b,d-k),a.arc(b-k,d-k,k,0,Math.PI/2,!1)):a.lineTo(b,d);\"down\"===h&&(a.lineTo((b+e)/2,d),a.lineTo(b/2,d+m),a.lineTo((b-e)/2,d));k?(a.lineTo(k,d),a.arc(k,d-k,k,Math.PI/2,Math.PI,!1)):a.lineTo(0,d);\"left\"===h&&(a.lineTo(0,(d+m)/2),a.lineTo(-1*e,d/2),a.lineTo(0,(d-m)/2));k&&(a.lineTo(0,k),a.arc(k,k,k,Math.PI,3*Math.PI/2,!1));a.closePath();a.fillStrokeShape(this)};d.prototype.getSelfRect=function(){var a=0,b=0,d=this.pointerWidth(),\nh=this.pointerHeight(),e=this.pointerDirection(),m=this.width(),k=this.height();\"up\"===e?(b-=h,k+=h):\"down\"===e?k+=h:\"left\"===e?(a-=1.5*d,m+=d):\"right\"===e&&(m+=1.5*d);return{x:a,y:b,width:m,height:k}};return d}(v.Shape);k.Tag=v;v.prototype.className=\"Tag\";e._registerNode(v);t.Factory.addGetterSetter(v,\"pointerDirection\",\"none\");t.Factory.addGetterSetter(v,\"pointerWidth\",0,q.getNumberValidator());t.Factory.addGetterSetter(v,\"pointerHeight\",0,q.getNumberValidator());t.Factory.addGetterSetter(v,\"cornerRadius\",\n0,q.getNumberValidator());n.Collection.mapMethods(v)}","~:source","shadow$provide[57] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Group_1 = require(\"../Group\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'padding',\n    'lineHeight',\n    'text',\n    'width'\n], CHANGE_KONVA = 'Change.konva', NONE = 'none', UP = 'up', RIGHT = 'right', DOWN = 'down', LEFT = 'left', attrChangeListLen = ATTR_CHANGE_LIST.length;\nvar Label = (function (_super) {\n    __extends(Label, _super);\n    function Label(config) {\n        var _this = _super.call(this, config) || this;\n        _this.on('add.konva', function (evt) {\n            this._addListeners(evt.child);\n            this._sync();\n        });\n        return _this;\n    }\n    Label.prototype.getText = function () {\n        return this.find('Text')[0];\n    };\n    Label.prototype.getTag = function () {\n        return this.find('Tag')[0];\n    };\n    Label.prototype._addListeners = function (text) {\n        var that = this, n;\n        var func = function () {\n            that._sync();\n        };\n        for (n = 0; n < attrChangeListLen; n++) {\n            text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\n        }\n    };\n    Label.prototype.getWidth = function () {\n        return this.getText().width();\n    };\n    Label.prototype.getHeight = function () {\n        return this.getText().height();\n    };\n    Label.prototype._sync = function () {\n        var text = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y, pointerHeight;\n        if (text && tag) {\n            width = text.width();\n            height = text.height();\n            pointerDirection = tag.pointerDirection();\n            pointerWidth = tag.pointerWidth();\n            pointerHeight = tag.pointerHeight();\n            x = 0;\n            y = 0;\n            switch (pointerDirection) {\n                case UP:\n                    x = width / 2;\n                    y = -1 * pointerHeight;\n                    break;\n                case RIGHT:\n                    x = width + pointerWidth;\n                    y = height / 2;\n                    break;\n                case DOWN:\n                    x = width / 2;\n                    y = height + pointerHeight;\n                    break;\n                case LEFT:\n                    x = -1 * pointerWidth;\n                    y = height / 2;\n                    break;\n            }\n            tag.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n                width: width,\n                height: height\n            });\n            text.setAttrs({\n                x: -1 * x,\n                y: -1 * y\n            });\n        }\n    };\n    return Label;\n}(Group_1.Group));\nexports.Label = Label;\nLabel.prototype.className = 'Label';\nGlobal_1._registerNode(Label);\nUtil_1.Collection.mapMethods(Label);\nvar Tag = (function (_super) {\n    __extends(Tag, _super);\n    function Tag() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Tag.prototype._sceneFunc = function (context) {\n        var width = this.width(), height = this.height(), pointerDirection = this.pointerDirection(), pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), cornerRadius = Math.min(this.cornerRadius(), width / 2, height / 2);\n        context.beginPath();\n        if (!cornerRadius) {\n            context.moveTo(0, 0);\n        }\n        else {\n            context.moveTo(cornerRadius, 0);\n        }\n        if (pointerDirection === UP) {\n            context.lineTo((width - pointerWidth) / 2, 0);\n            context.lineTo(width / 2, -1 * pointerHeight);\n            context.lineTo((width + pointerWidth) / 2, 0);\n        }\n        if (!cornerRadius) {\n            context.lineTo(width, 0);\n        }\n        else {\n            context.lineTo(width - cornerRadius, 0);\n            context.arc(width - cornerRadius, cornerRadius, cornerRadius, (Math.PI * 3) / 2, 0, false);\n        }\n        if (pointerDirection === RIGHT) {\n            context.lineTo(width, (height - pointerHeight) / 2);\n            context.lineTo(width + pointerWidth, height / 2);\n            context.lineTo(width, (height + pointerHeight) / 2);\n        }\n        if (!cornerRadius) {\n            context.lineTo(width, height);\n        }\n        else {\n            context.lineTo(width, height - cornerRadius);\n            context.arc(width - cornerRadius, height - cornerRadius, cornerRadius, 0, Math.PI / 2, false);\n        }\n        if (pointerDirection === DOWN) {\n            context.lineTo((width + pointerWidth) / 2, height);\n            context.lineTo(width / 2, height + pointerHeight);\n            context.lineTo((width - pointerWidth) / 2, height);\n        }\n        if (!cornerRadius) {\n            context.lineTo(0, height);\n        }\n        else {\n            context.lineTo(cornerRadius, height);\n            context.arc(cornerRadius, height - cornerRadius, cornerRadius, Math.PI / 2, Math.PI, false);\n        }\n        if (pointerDirection === LEFT) {\n            context.lineTo(0, (height + pointerHeight) / 2);\n            context.lineTo(-1 * pointerWidth, height / 2);\n            context.lineTo(0, (height - pointerHeight) / 2);\n        }\n        if (cornerRadius) {\n            context.lineTo(0, cornerRadius);\n            context.arc(cornerRadius, cornerRadius, cornerRadius, Math.PI, (Math.PI * 3) / 2, false);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    Tag.prototype.getSelfRect = function () {\n        var x = 0, y = 0, pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), direction = this.pointerDirection(), width = this.width(), height = this.height();\n        if (direction === UP) {\n            y -= pointerHeight;\n            height += pointerHeight;\n        }\n        else if (direction === DOWN) {\n            height += pointerHeight;\n        }\n        else if (direction === LEFT) {\n            x -= pointerWidth * 1.5;\n            width += pointerWidth;\n        }\n        else if (direction === RIGHT) {\n            width += pointerWidth * 1.5;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height\n        };\n    };\n    return Tag;\n}(Shape_1.Shape));\nexports.Tag = Tag;\nTag.prototype.className = 'Tag';\nGlobal_1._registerNode(Tag);\nFactory_1.Factory.addGetterSetter(Tag, 'pointerDirection', NONE);\nFactory_1.Factory.addGetterSetter(Tag, 'pointerWidth', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Tag, 'pointerHeight', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Tag, 'cornerRadius', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Tag);\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$konva$lib$Factory","~$module$node_modules$konva$lib$Validators","~$shadow.js","~$module$node_modules$konva$lib$Global","~$module$node_modules$konva$lib$Shape","~$module$node_modules$konva$lib$Group","~$module$node_modules$konva$lib$Util"]],"~:properties",["^5",["width","getWidth","getTag","prototype","height","className","getSelfRect","x","__esModule","getText","_sync","_sceneFunc","value","getHeight","Label","y","__proto__","_addListeners","Tag","constructor"]],"~:compiled-at",1589761458341,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$konva$lib$shapes$Label.js\",\n\"lineCount\":7,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/konva/lib/shapes/Label.js\"],\n\"sourcesContent\":[\"shadow$provide[57] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __extends = (this && this.__extends) || (function () {\\n    var extendStatics = function (d, b) {\\n        extendStatics = Object.setPrototypeOf ||\\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\\n        return extendStatics(d, b);\\n    };\\n    return function (d, b) {\\n        extendStatics(d, b);\\n        function __() { this.constructor = d; }\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\n    };\\n})();\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nvar Util_1 = require(\\\"../Util\\\");\\nvar Factory_1 = require(\\\"../Factory\\\");\\nvar Shape_1 = require(\\\"../Shape\\\");\\nvar Group_1 = require(\\\"../Group\\\");\\nvar Validators_1 = require(\\\"../Validators\\\");\\nvar Global_1 = require(\\\"../Global\\\");\\nvar ATTR_CHANGE_LIST = [\\n    'fontFamily',\\n    'fontSize',\\n    'fontStyle',\\n    'padding',\\n    'lineHeight',\\n    'text',\\n    'width'\\n], CHANGE_KONVA = 'Change.konva', NONE = 'none', UP = 'up', RIGHT = 'right', DOWN = 'down', LEFT = 'left', attrChangeListLen = ATTR_CHANGE_LIST.length;\\nvar Label = (function (_super) {\\n    __extends(Label, _super);\\n    function Label(config) {\\n        var _this = _super.call(this, config) || this;\\n        _this.on('add.konva', function (evt) {\\n            this._addListeners(evt.child);\\n            this._sync();\\n        });\\n        return _this;\\n    }\\n    Label.prototype.getText = function () {\\n        return this.find('Text')[0];\\n    };\\n    Label.prototype.getTag = function () {\\n        return this.find('Tag')[0];\\n    };\\n    Label.prototype._addListeners = function (text) {\\n        var that = this, n;\\n        var func = function () {\\n            that._sync();\\n        };\\n        for (n = 0; n < attrChangeListLen; n++) {\\n            text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\\n        }\\n    };\\n    Label.prototype.getWidth = function () {\\n        return this.getText().width();\\n    };\\n    Label.prototype.getHeight = function () {\\n        return this.getText().height();\\n    };\\n    Label.prototype._sync = function () {\\n        var text = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y, pointerHeight;\\n        if (text && tag) {\\n            width = text.width();\\n            height = text.height();\\n            pointerDirection = tag.pointerDirection();\\n            pointerWidth = tag.pointerWidth();\\n            pointerHeight = tag.pointerHeight();\\n            x = 0;\\n            y = 0;\\n            switch (pointerDirection) {\\n                case UP:\\n                    x = width / 2;\\n                    y = -1 * pointerHeight;\\n                    break;\\n                case RIGHT:\\n                    x = width + pointerWidth;\\n                    y = height / 2;\\n                    break;\\n                case DOWN:\\n                    x = width / 2;\\n                    y = height + pointerHeight;\\n                    break;\\n                case LEFT:\\n                    x = -1 * pointerWidth;\\n                    y = height / 2;\\n                    break;\\n            }\\n            tag.setAttrs({\\n                x: -1 * x,\\n                y: -1 * y,\\n                width: width,\\n                height: height\\n            });\\n            text.setAttrs({\\n                x: -1 * x,\\n                y: -1 * y\\n            });\\n        }\\n    };\\n    return Label;\\n}(Group_1.Group));\\nexports.Label = Label;\\nLabel.prototype.className = 'Label';\\nGlobal_1._registerNode(Label);\\nUtil_1.Collection.mapMethods(Label);\\nvar Tag = (function (_super) {\\n    __extends(Tag, _super);\\n    function Tag() {\\n        return _super !== null && _super.apply(this, arguments) || this;\\n    }\\n    Tag.prototype._sceneFunc = function (context) {\\n        var width = this.width(), height = this.height(), pointerDirection = this.pointerDirection(), pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), cornerRadius = Math.min(this.cornerRadius(), width / 2, height / 2);\\n        context.beginPath();\\n        if (!cornerRadius) {\\n            context.moveTo(0, 0);\\n        }\\n        else {\\n            context.moveTo(cornerRadius, 0);\\n        }\\n        if (pointerDirection === UP) {\\n            context.lineTo((width - pointerWidth) / 2, 0);\\n            context.lineTo(width / 2, -1 * pointerHeight);\\n            context.lineTo((width + pointerWidth) / 2, 0);\\n        }\\n        if (!cornerRadius) {\\n            context.lineTo(width, 0);\\n        }\\n        else {\\n            context.lineTo(width - cornerRadius, 0);\\n            context.arc(width - cornerRadius, cornerRadius, cornerRadius, (Math.PI * 3) / 2, 0, false);\\n        }\\n        if (pointerDirection === RIGHT) {\\n            context.lineTo(width, (height - pointerHeight) / 2);\\n            context.lineTo(width + pointerWidth, height / 2);\\n            context.lineTo(width, (height + pointerHeight) / 2);\\n        }\\n        if (!cornerRadius) {\\n            context.lineTo(width, height);\\n        }\\n        else {\\n            context.lineTo(width, height - cornerRadius);\\n            context.arc(width - cornerRadius, height - cornerRadius, cornerRadius, 0, Math.PI / 2, false);\\n        }\\n        if (pointerDirection === DOWN) {\\n            context.lineTo((width + pointerWidth) / 2, height);\\n            context.lineTo(width / 2, height + pointerHeight);\\n            context.lineTo((width - pointerWidth) / 2, height);\\n        }\\n        if (!cornerRadius) {\\n            context.lineTo(0, height);\\n        }\\n        else {\\n            context.lineTo(cornerRadius, height);\\n            context.arc(cornerRadius, height - cornerRadius, cornerRadius, Math.PI / 2, Math.PI, false);\\n        }\\n        if (pointerDirection === LEFT) {\\n            context.lineTo(0, (height + pointerHeight) / 2);\\n            context.lineTo(-1 * pointerWidth, height / 2);\\n            context.lineTo(0, (height - pointerHeight) / 2);\\n        }\\n        if (cornerRadius) {\\n            context.lineTo(0, cornerRadius);\\n            context.arc(cornerRadius, cornerRadius, cornerRadius, Math.PI, (Math.PI * 3) / 2, false);\\n        }\\n        context.closePath();\\n        context.fillStrokeShape(this);\\n    };\\n    Tag.prototype.getSelfRect = function () {\\n        var x = 0, y = 0, pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), direction = this.pointerDirection(), width = this.width(), height = this.height();\\n        if (direction === UP) {\\n            y -= pointerHeight;\\n            height += pointerHeight;\\n        }\\n        else if (direction === DOWN) {\\n            height += pointerHeight;\\n        }\\n        else if (direction === LEFT) {\\n            x -= pointerWidth * 1.5;\\n            width += pointerWidth;\\n        }\\n        else if (direction === RIGHT) {\\n            width += pointerWidth * 1.5;\\n        }\\n        return {\\n            x: x,\\n            y: y,\\n            width: width,\\n            height: height\\n        };\\n    };\\n    return Tag;\\n}(Shape_1.Shape));\\nexports.Tag = Tag;\\nTag.prototype.className = 'Tag';\\nGlobal_1._registerNode(Tag);\\nFactory_1.Factory.addGetterSetter(Tag, 'pointerDirection', NONE);\\nFactory_1.Factory.addGetterSetter(Tag, 'pointerWidth', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Tag, 'pointerHeight', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Tag, 'cornerRadius', 0, Validators_1.getNumberValidator());\\nUtil_1.Collection.mapMethods(Tag);\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"__extends\",\"extendStatics\",\"d\",\"b\",\"Object\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"p\",\"hasOwnProperty\",\"__\",\"constructor\",\"prototype\",\"create\",\"defineProperty\",\"value\",\"Util_1\",\"Factory_1\",\"Shape_1\",\"Group_1\",\"Validators_1\",\"Global_1\",\"ATTR_CHANGE_LIST\",\"attrChangeListLen\",\"length\",\"Label\",\"_super\",\"config\",\"_this\",\"call\",\"on\",\"evt\",\"_addListeners\",\"child\",\"_sync\",\"getText\",\"Label.prototype.getText\",\"find\",\"getTag\",\"Label.prototype.getTag\",\"Label.prototype._addListeners\",\"text\",\"that\",\"n\",\"func\",\"CHANGE_KONVA\",\"getWidth\",\"Label.prototype.getWidth\",\"width\",\"getHeight\",\"Label.prototype.getHeight\",\"height\",\"Label.prototype._sync\",\"tag\",\"x\",\"pointerDirection\",\"pointerWidth\",\"pointerHeight\",\"y\",\"UP\",\"RIGHT\",\"DOWN\",\"LEFT\",\"setAttrs\",\"Group\",\"className\",\"_registerNode\",\"Collection\",\"mapMethods\",\"Tag\",\"apply\",\"arguments\",\"_sceneFunc\",\"Tag.prototype._sceneFunc\",\"context\",\"cornerRadius\",\"Math\",\"min\",\"beginPath\",\"moveTo\",\"lineTo\",\"arc\",\"PI\",\"closePath\",\"fillStrokeShape\",\"getSelfRect\",\"Tag.prototype.getSelfRect\",\"direction\",\"Shape\",\"Factory\",\"addGetterSetter\",\"NONE\",\"getNumberValidator\"]\n}\n"]