["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/konva/lib/BaseLayer.js"],"~:js","shadow$provide[32]=function(n,e,t,k){var w=this&&this.__extends||function(){var e=function(d,b){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return e(d,b)};return function(d,b){function h(){this.constructor=d}e(d,b);d.prototype=null===b?Object.create(b):(h.prototype=b.prototype,new h)}}();Object.defineProperty(k,\"__esModule\",{value:!0});var v=e(22);t=e(29);var x=e(28);n=e(24);var q=e(26);e=function(e){function d(b){b=\ne.call(this,b)||this;b.canvas=new q.SceneCanvas;b._waitingForDraw=!1;b.on(\"visibleChange\",b._checkVisibility);b._checkVisibility();b.on(\"imageSmoothingEnabledChange\",b._checkSmooth);b._checkSmooth();return b}w(d,e);d.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()};d.prototype.getCanvas=function(){return this.canvas};d.prototype.getHitCanvas=function(){return this.hitCanvas};d.prototype.getContext=function(){return this.getCanvas().getContext()};d.prototype.clear=\nfunction(b){this.getContext().clear(b);return this};d.prototype.setZIndex=function(b){e.prototype.setZIndex.call(this,b);var d=this.getStage();d&&(d.content.removeChild(this.getCanvas()._canvas),b<d.getChildren().length-1?d.content.insertBefore(this.getCanvas()._canvas,d.getChildren()[b+1].getCanvas()._canvas):d.content.appendChild(this.getCanvas()._canvas));return this};d.prototype.moveToTop=function(){x.Node.prototype.moveToTop.call(this);var b=this.getStage();b&&(b.content.removeChild(this.getCanvas()._canvas),\nb.content.appendChild(this.getCanvas()._canvas));return!0};d.prototype.moveUp=function(){if(!x.Node.prototype.moveUp.call(this))return!1;var b=this.getStage();if(!b)return!1;b.content.removeChild(this.getCanvas()._canvas);this.index<b.getChildren().length-1?b.content.insertBefore(this.getCanvas()._canvas,b.getChildren()[this.index+1].getCanvas()._canvas):b.content.appendChild(this.getCanvas()._canvas);return!0};d.prototype.moveDown=function(){if(x.Node.prototype.moveDown.call(this)){var b=this.getStage();\nif(b){var d=b.getChildren();b.content.removeChild(this.getCanvas()._canvas);b.content.insertBefore(this.getCanvas()._canvas,d[this.index+1].getCanvas()._canvas)}return!0}return!1};d.prototype.moveToBottom=function(){if(x.Node.prototype.moveToBottom.call(this)){var b=this.getStage();if(b){var d=b.getChildren();b.content.removeChild(this.getCanvas()._canvas);b.content.insertBefore(this.getCanvas()._canvas,d[1].getCanvas()._canvas)}return!0}return!1};d.prototype.getLayer=function(){return this};d.prototype.hitGraphEnabled=\nfunction(){return!0};d.prototype.remove=function(){var b=this.getCanvas()._canvas;x.Node.prototype.remove.call(this);b&&b.parentNode&&v.Util._isInDocument(b)&&b.parentNode.removeChild(b);return this};d.prototype.getStage=function(){return this.parent};d.prototype.setSize=function(b){this.canvas.setSize(b.width,b.height);return this};d.prototype._toKonvaCanvas=function(b){b=b||{};b.width=b.width||this.getWidth();b.height=b.height||this.getHeight();b.x=void 0!==b.x?b.x:this.x();b.y=void 0!==b.y?b.y:\nthis.y();return x.Node.prototype._toKonvaCanvas.call(this,b)};d.prototype._checkVisibility=function(){this.visible()?this.canvas._canvas.style.display=\"block\":this.canvas._canvas.style.display=\"none\"};d.prototype._checkSmooth=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()};d.prototype.getWidth=function(){if(this.parent)return this.parent.width()};d.prototype.setWidth=function(){v.Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.')};\nd.prototype.getHeight=function(){if(this.parent)return this.parent.height()};d.prototype.setHeight=function(){v.Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.')};d.prototype.getIntersection=function(b,d){return null};d.prototype.batchDraw=function(){var b=this;this._waitingForDraw||(this._waitingForDraw=!0,v.Util.requestAnimFrame(function(){b.draw();b._waitingForDraw=!1}));return this};d.prototype._applyTransform=function(b,d,a){b=b.getAbsoluteTransform(a).getMatrix();\nd.transform(b[0],b[1],b[2],b[3],b[4],b[5])};return d}(t.Container);k.BaseLayer=e;e.prototype.nodeType=\"BaseLayer\";n.Factory.addGetterSetter(e,\"imageSmoothingEnabled\",!0);n.Factory.addGetterSetter(e,\"clearBeforeDraw\",!0);v.Collection.mapMethods(e)}","~:source","shadow$provide[32] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Util_1 = require(\"./Util\");\nvar Container_1 = require(\"./Container\");\nvar Node_1 = require(\"./Node\");\nvar Factory_1 = require(\"./Factory\");\nvar Canvas_1 = require(\"./Canvas\");\nvar BaseLayer = (function (_super) {\n    __extends(BaseLayer, _super);\n    function BaseLayer(config) {\n        var _this = _super.call(this, config) || this;\n        _this.canvas = new Canvas_1.SceneCanvas();\n        _this._waitingForDraw = false;\n        _this.on('visibleChange', _this._checkVisibility);\n        _this._checkVisibility();\n        _this.on('imageSmoothingEnabledChange', _this._checkSmooth);\n        _this._checkSmooth();\n        return _this;\n    }\n    BaseLayer.prototype.createPNGStream = function () {\n        var c = this.canvas._canvas;\n        return c.createPNGStream();\n    };\n    BaseLayer.prototype.getCanvas = function () {\n        return this.canvas;\n    };\n    BaseLayer.prototype.getHitCanvas = function () {\n        return this.hitCanvas;\n    };\n    BaseLayer.prototype.getContext = function () {\n        return this.getCanvas().getContext();\n    };\n    BaseLayer.prototype.clear = function (bounds) {\n        this.getContext().clear(bounds);\n        return this;\n    };\n    BaseLayer.prototype.setZIndex = function (index) {\n        _super.prototype.setZIndex.call(this, index);\n        var stage = this.getStage();\n        if (stage) {\n            stage.content.removeChild(this.getCanvas()._canvas);\n            if (index < stage.getChildren().length - 1) {\n                stage.content.insertBefore(this.getCanvas()._canvas, stage.getChildren()[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getCanvas()._canvas);\n            }\n        }\n        return this;\n    };\n    BaseLayer.prototype.moveToTop = function () {\n        Node_1.Node.prototype.moveToTop.call(this);\n        var stage = this.getStage();\n        if (stage) {\n            stage.content.removeChild(this.getCanvas()._canvas);\n            stage.content.appendChild(this.getCanvas()._canvas);\n        }\n        return true;\n    };\n    BaseLayer.prototype.moveUp = function () {\n        var moved = Node_1.Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        var stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        stage.content.removeChild(this.getCanvas()._canvas);\n        if (this.index < stage.getChildren().length - 1) {\n            stage.content.insertBefore(this.getCanvas()._canvas, stage.getChildren()[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getCanvas()._canvas);\n        }\n        return true;\n    };\n    BaseLayer.prototype.moveDown = function () {\n        if (Node_1.Node.prototype.moveDown.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.getChildren();\n                stage.content.removeChild(this.getCanvas()._canvas);\n                stage.content.insertBefore(this.getCanvas()._canvas, children[this.index + 1].getCanvas()._canvas);\n            }\n            return true;\n        }\n        return false;\n    };\n    BaseLayer.prototype.moveToBottom = function () {\n        if (Node_1.Node.prototype.moveToBottom.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.getChildren();\n                stage.content.removeChild(this.getCanvas()._canvas);\n                stage.content.insertBefore(this.getCanvas()._canvas, children[1].getCanvas()._canvas);\n            }\n            return true;\n        }\n        return false;\n    };\n    BaseLayer.prototype.getLayer = function () {\n        return this;\n    };\n    BaseLayer.prototype.hitGraphEnabled = function () {\n        return true;\n    };\n    BaseLayer.prototype.remove = function () {\n        var _canvas = this.getCanvas()._canvas;\n        Node_1.Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    };\n    BaseLayer.prototype.getStage = function () {\n        return this.parent;\n    };\n    BaseLayer.prototype.setSize = function (_a) {\n        var width = _a.width, height = _a.height;\n        this.canvas.setSize(width, height);\n        return this;\n    };\n    BaseLayer.prototype._toKonvaCanvas = function (config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node_1.Node.prototype._toKonvaCanvas.call(this, config);\n    };\n    BaseLayer.prototype._checkVisibility = function () {\n        var visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    };\n    BaseLayer.prototype._checkSmooth = function () {\n        this.getContext()._context.imageSmoothingEnabled = this.imageSmoothingEnabled();\n    };\n    BaseLayer.prototype.getWidth = function () {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    };\n    BaseLayer.prototype.setWidth = function () {\n        Util_1.Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    };\n    BaseLayer.prototype.getHeight = function () {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    };\n    BaseLayer.prototype.setHeight = function () {\n        Util_1.Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    };\n    BaseLayer.prototype.getIntersection = function (pos, selector) {\n        return null;\n    };\n    BaseLayer.prototype.batchDraw = function () {\n        var _this = this;\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util_1.Util.requestAnimFrame(function () {\n                _this.draw();\n                _this._waitingForDraw = false;\n            });\n        }\n        return this;\n    };\n    BaseLayer.prototype._applyTransform = function (shape, context, top) {\n        var m = shape.getAbsoluteTransform(top).getMatrix();\n        context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n    };\n    return BaseLayer;\n}(Container_1.Container));\nexports.BaseLayer = BaseLayer;\nBaseLayer.prototype.nodeType = 'BaseLayer';\nFactory_1.Factory.addGetterSetter(BaseLayer, 'imageSmoothingEnabled', true);\nFactory_1.Factory.addGetterSetter(BaseLayer, 'clearBeforeDraw', true);\nUtil_1.Collection.mapMethods(BaseLayer);\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$konva$lib$Factory","~$shadow.js","~$module$node_modules$konva$lib$Container","~$module$node_modules$konva$lib$Canvas","~$module$node_modules$konva$lib$Node","~$module$node_modules$konva$lib$Util"]],"~:properties",["^5",["canvas","width","getWidth","batchDraw","_waitingForDraw","setWidth","prototype","height","_applyTransform","_toKonvaCanvas","_checkVisibility","setHeight","x","__esModule","imageSmoothingEnabled","getHitCanvas","getIntersection","hitGraphEnabled","getLayer","nodeType","value","moveDown","moveToTop","remove","moveUp","_checkSmooth","getHeight","BaseLayer","getContext","y","moveToBottom","__proto__","setSize","setZIndex","createPNGStream","display","getCanvas","clear","getStage","constructor"]],"~:compiled-at",1606343224187,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$konva$lib$BaseLayer.js\",\n\"lineCount\":9,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/konva/lib/BaseLayer.js\"],\n\"sourcesContent\":[\"shadow$provide[32] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __extends = (this && this.__extends) || (function () {\\n    var extendStatics = function (d, b) {\\n        extendStatics = Object.setPrototypeOf ||\\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\\n        return extendStatics(d, b);\\n    };\\n    return function (d, b) {\\n        extendStatics(d, b);\\n        function __() { this.constructor = d; }\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\n    };\\n})();\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nvar Util_1 = require(\\\"./Util\\\");\\nvar Container_1 = require(\\\"./Container\\\");\\nvar Node_1 = require(\\\"./Node\\\");\\nvar Factory_1 = require(\\\"./Factory\\\");\\nvar Canvas_1 = require(\\\"./Canvas\\\");\\nvar BaseLayer = (function (_super) {\\n    __extends(BaseLayer, _super);\\n    function BaseLayer(config) {\\n        var _this = _super.call(this, config) || this;\\n        _this.canvas = new Canvas_1.SceneCanvas();\\n        _this._waitingForDraw = false;\\n        _this.on('visibleChange', _this._checkVisibility);\\n        _this._checkVisibility();\\n        _this.on('imageSmoothingEnabledChange', _this._checkSmooth);\\n        _this._checkSmooth();\\n        return _this;\\n    }\\n    BaseLayer.prototype.createPNGStream = function () {\\n        var c = this.canvas._canvas;\\n        return c.createPNGStream();\\n    };\\n    BaseLayer.prototype.getCanvas = function () {\\n        return this.canvas;\\n    };\\n    BaseLayer.prototype.getHitCanvas = function () {\\n        return this.hitCanvas;\\n    };\\n    BaseLayer.prototype.getContext = function () {\\n        return this.getCanvas().getContext();\\n    };\\n    BaseLayer.prototype.clear = function (bounds) {\\n        this.getContext().clear(bounds);\\n        return this;\\n    };\\n    BaseLayer.prototype.setZIndex = function (index) {\\n        _super.prototype.setZIndex.call(this, index);\\n        var stage = this.getStage();\\n        if (stage) {\\n            stage.content.removeChild(this.getCanvas()._canvas);\\n            if (index < stage.getChildren().length - 1) {\\n                stage.content.insertBefore(this.getCanvas()._canvas, stage.getChildren()[index + 1].getCanvas()._canvas);\\n            }\\n            else {\\n                stage.content.appendChild(this.getCanvas()._canvas);\\n            }\\n        }\\n        return this;\\n    };\\n    BaseLayer.prototype.moveToTop = function () {\\n        Node_1.Node.prototype.moveToTop.call(this);\\n        var stage = this.getStage();\\n        if (stage) {\\n            stage.content.removeChild(this.getCanvas()._canvas);\\n            stage.content.appendChild(this.getCanvas()._canvas);\\n        }\\n        return true;\\n    };\\n    BaseLayer.prototype.moveUp = function () {\\n        var moved = Node_1.Node.prototype.moveUp.call(this);\\n        if (!moved) {\\n            return false;\\n        }\\n        var stage = this.getStage();\\n        if (!stage) {\\n            return false;\\n        }\\n        stage.content.removeChild(this.getCanvas()._canvas);\\n        if (this.index < stage.getChildren().length - 1) {\\n            stage.content.insertBefore(this.getCanvas()._canvas, stage.getChildren()[this.index + 1].getCanvas()._canvas);\\n        }\\n        else {\\n            stage.content.appendChild(this.getCanvas()._canvas);\\n        }\\n        return true;\\n    };\\n    BaseLayer.prototype.moveDown = function () {\\n        if (Node_1.Node.prototype.moveDown.call(this)) {\\n            var stage = this.getStage();\\n            if (stage) {\\n                var children = stage.getChildren();\\n                stage.content.removeChild(this.getCanvas()._canvas);\\n                stage.content.insertBefore(this.getCanvas()._canvas, children[this.index + 1].getCanvas()._canvas);\\n            }\\n            return true;\\n        }\\n        return false;\\n    };\\n    BaseLayer.prototype.moveToBottom = function () {\\n        if (Node_1.Node.prototype.moveToBottom.call(this)) {\\n            var stage = this.getStage();\\n            if (stage) {\\n                var children = stage.getChildren();\\n                stage.content.removeChild(this.getCanvas()._canvas);\\n                stage.content.insertBefore(this.getCanvas()._canvas, children[1].getCanvas()._canvas);\\n            }\\n            return true;\\n        }\\n        return false;\\n    };\\n    BaseLayer.prototype.getLayer = function () {\\n        return this;\\n    };\\n    BaseLayer.prototype.hitGraphEnabled = function () {\\n        return true;\\n    };\\n    BaseLayer.prototype.remove = function () {\\n        var _canvas = this.getCanvas()._canvas;\\n        Node_1.Node.prototype.remove.call(this);\\n        if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {\\n            _canvas.parentNode.removeChild(_canvas);\\n        }\\n        return this;\\n    };\\n    BaseLayer.prototype.getStage = function () {\\n        return this.parent;\\n    };\\n    BaseLayer.prototype.setSize = function (_a) {\\n        var width = _a.width, height = _a.height;\\n        this.canvas.setSize(width, height);\\n        return this;\\n    };\\n    BaseLayer.prototype._toKonvaCanvas = function (config) {\\n        config = config || {};\\n        config.width = config.width || this.getWidth();\\n        config.height = config.height || this.getHeight();\\n        config.x = config.x !== undefined ? config.x : this.x();\\n        config.y = config.y !== undefined ? config.y : this.y();\\n        return Node_1.Node.prototype._toKonvaCanvas.call(this, config);\\n    };\\n    BaseLayer.prototype._checkVisibility = function () {\\n        var visible = this.visible();\\n        if (visible) {\\n            this.canvas._canvas.style.display = 'block';\\n        }\\n        else {\\n            this.canvas._canvas.style.display = 'none';\\n        }\\n    };\\n    BaseLayer.prototype._checkSmooth = function () {\\n        this.getContext()._context.imageSmoothingEnabled = this.imageSmoothingEnabled();\\n    };\\n    BaseLayer.prototype.getWidth = function () {\\n        if (this.parent) {\\n            return this.parent.width();\\n        }\\n    };\\n    BaseLayer.prototype.setWidth = function () {\\n        Util_1.Util.warn('Can not change width of layer. Use \\\"stage.width(value)\\\" function instead.');\\n    };\\n    BaseLayer.prototype.getHeight = function () {\\n        if (this.parent) {\\n            return this.parent.height();\\n        }\\n    };\\n    BaseLayer.prototype.setHeight = function () {\\n        Util_1.Util.warn('Can not change height of layer. Use \\\"stage.height(value)\\\" function instead.');\\n    };\\n    BaseLayer.prototype.getIntersection = function (pos, selector) {\\n        return null;\\n    };\\n    BaseLayer.prototype.batchDraw = function () {\\n        var _this = this;\\n        if (!this._waitingForDraw) {\\n            this._waitingForDraw = true;\\n            Util_1.Util.requestAnimFrame(function () {\\n                _this.draw();\\n                _this._waitingForDraw = false;\\n            });\\n        }\\n        return this;\\n    };\\n    BaseLayer.prototype._applyTransform = function (shape, context, top) {\\n        var m = shape.getAbsoluteTransform(top).getMatrix();\\n        context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\\n    };\\n    return BaseLayer;\\n}(Container_1.Container));\\nexports.BaseLayer = BaseLayer;\\nBaseLayer.prototype.nodeType = 'BaseLayer';\\nFactory_1.Factory.addGetterSetter(BaseLayer, 'imageSmoothingEnabled', true);\\nFactory_1.Factory.addGetterSetter(BaseLayer, 'clearBeforeDraw', true);\\nUtil_1.Collection.mapMethods(BaseLayer);\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"__extends\",\"extendStatics\",\"d\",\"b\",\"Object\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"p\",\"hasOwnProperty\",\"__\",\"constructor\",\"prototype\",\"create\",\"defineProperty\",\"value\",\"Util_1\",\"Container_1\",\"Node_1\",\"Factory_1\",\"Canvas_1\",\"BaseLayer\",\"_super\",\"config\",\"_this\",\"call\",\"canvas\",\"SceneCanvas\",\"_waitingForDraw\",\"on\",\"_checkVisibility\",\"_checkSmooth\",\"createPNGStream\",\"BaseLayer.prototype.createPNGStream\",\"_canvas\",\"getCanvas\",\"BaseLayer.prototype.getCanvas\",\"getHitCanvas\",\"BaseLayer.prototype.getHitCanvas\",\"hitCanvas\",\"getContext\",\"BaseLayer.prototype.getContext\",\"clear\",\"BaseLayer.prototype.clear\",\"bounds\",\"setZIndex\",\"BaseLayer.prototype.setZIndex\",\"index\",\"stage\",\"getStage\",\"content\",\"removeChild\",\"getChildren\",\"length\",\"insertBefore\",\"appendChild\",\"moveToTop\",\"BaseLayer.prototype.moveToTop\",\"Node\",\"moveUp\",\"BaseLayer.prototype.moveUp\",\"moved\",\"moveDown\",\"BaseLayer.prototype.moveDown\",\"children\",\"moveToBottom\",\"BaseLayer.prototype.moveToBottom\",\"getLayer\",\"BaseLayer.prototype.getLayer\",\"hitGraphEnabled\",\"BaseLayer.prototype.hitGraphEnabled\",\"remove\",\"BaseLayer.prototype.remove\",\"parentNode\",\"Util\",\"_isInDocument\",\"BaseLayer.prototype.getStage\",\"parent\",\"setSize\",\"BaseLayer.prototype.setSize\",\"_a\",\"width\",\"height\",\"_toKonvaCanvas\",\"BaseLayer.prototype._toKonvaCanvas\",\"getWidth\",\"getHeight\",\"x\",\"undefined\",\"y\",\"BaseLayer.prototype._checkVisibility\",\"visible\",\"style\",\"display\",\"BaseLayer.prototype._checkSmooth\",\"_context\",\"imageSmoothingEnabled\",\"BaseLayer.prototype.getWidth\",\"setWidth\",\"BaseLayer.prototype.setWidth\",\"warn\",\"BaseLayer.prototype.getHeight\",\"setHeight\",\"BaseLayer.prototype.setHeight\",\"getIntersection\",\"BaseLayer.prototype.getIntersection\",\"pos\",\"selector\",\"batchDraw\",\"BaseLayer.prototype.batchDraw\",\"requestAnimFrame\",\"draw\",\"_applyTransform\",\"BaseLayer.prototype._applyTransform\",\"shape\",\"context\",\"top\",\"m\",\"getAbsoluteTransform\",\"getMatrix\",\"transform\",\"Container\",\"nodeType\",\"Factory\",\"addGetterSetter\",\"Collection\",\"mapMethods\"]\n}\n"]