["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/konva/lib/Shape.js"],"~:js","shadow$provide[33]=function(n,e,t,k){function w(){return r?r:r=h.Util.createCanvasElement().getContext(\"2d\")}function v(){this._clearCache(\"hasShadow\")}function x(){this._clearCache(\"shadowRGBA\")}function q(){this._clearCache(\"patternImage\")}function m(){this._clearCache(\"linearGradient\")}function d(){this._clearCache(\"radialGradient\")}var b=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&\n(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(k,\"__esModule\",{value:!0});var h=e(22);n=e(24);var a=e(28);t=e(23);var c=e(21),p=e(30),r;k.shapes={};e=function(c){function e(a){a=c.call(this,a)||this;for(var b;!(b=h.Util.getRandomColor())||b in k.shapes;);a.colorKey=b;k.shapes[b]=a;a.on(\"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva\",\nv);a.on(\"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva\",x);a.on(\"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva\",q);a.on(\"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva\",m);a.on(\"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva\",\nd);return a}b(e,c);e.prototype.getContext=function(){return this.getLayer().getContext()};e.prototype.getCanvas=function(){return this.getLayer().getCanvas()};e.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc};e.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc};e.prototype.hasShadow=function(){return this._getCache(\"hasShadow\",this._hasShadow)};e.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||\nthis.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())};e.prototype._getFillPattern=function(){return this._getCache(\"patternImage\",this.__getFillPattern)};e.prototype.__getFillPattern=function(){if(this.fillPatternImage())return w().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||\"repeat\")};e.prototype._getLinearGradient=function(){return this._getCache(\"linearGradient\",this.__getLinearGradient)};e.prototype.__getLinearGradient=function(){var a=this.fillLinearGradientColorStops();\nif(a){var b=w(),c=this.fillLinearGradientStartPoint(),d=this.fillLinearGradientEndPoint();b=b.createLinearGradient(c.x,c.y,d.x,d.y);for(c=0;c<a.length;c+=2)b.addColorStop(a[c],a[c+1]);return b}};e.prototype._getRadialGradient=function(){return this._getCache(\"radialGradient\",this.__getRadialGradient)};e.prototype.__getRadialGradient=function(){var a=this.fillRadialGradientColorStops();if(a){var b=w(),c=this.fillRadialGradientStartPoint(),d=this.fillRadialGradientEndPoint();b=b.createRadialGradient(c.x,\nc.y,this.fillRadialGradientStartRadius(),d.x,d.y,this.fillRadialGradientEndRadius());for(c=0;c<a.length;c+=2)b.addColorStop(a[c],a[c+1]);return b}};e.prototype.getShadowRGBA=function(){return this._getCache(\"shadowRGBA\",this._getShadowRGBA)};e.prototype._getShadowRGBA=function(){if(this.hasShadow()){var a=h.Util.colorToRGBA(this.shadowColor());return\"rgba(\"+a.r+\",\"+a.g+\",\"+a.b+\",\"+a.a*(this.shadowOpacity()||1)+\")\"}};e.prototype.hasFill=function(){return!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||\nthis.fillRadialGradientColorStops())};e.prototype.hasStroke=function(){return this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())};e.prototype.intersects=function(a){var b=this.getStage().bufferHitCanvas;b.getContext().clear();this.drawHit(b);return 0<b.context.getImageData(Math.round(a.x),Math.round(a.y),1,1).data[3]};e.prototype.destroy=function(){a.Node.prototype.destroy.call(this);delete k.shapes[this.colorKey];delete this.colorKey;return this};\ne.prototype._useBufferCanvas=function(a){return!(a&&!this.hasShadow()||!this.perfectDrawEnabled()||1===this.getAbsoluteOpacity()||!this.hasFill()||!this.hasStroke()||!this.getStage())};e.prototype.setStrokeHitEnabled=function(a){a?this.hitStrokeWidth(\"auto\"):this.hitStrokeWidth(0)};e.prototype.getStrokeHitEnabled=function(){return 0===this.hitStrokeWidth()?!1:!0};e.prototype.getSelfRect=function(){var a=this.size();return{x:this._centroid?Math.round(-a.width/2):0,y:this._centroid?Math.round(-a.height/\n2):0,width:a.width,height:a.height}};e.prototype.getClientRect=function(a){a=a||{};var b=a.skipTransform,c=a.relativeTo,d=this.getSelfRect(),h=!a.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,e=d.width+h,p=d.height+h,r=!a.skipShadow&&this.hasShadow();a=r?this.shadowOffsetX():0;var m=r?this.shadowOffsetY():0;e+=Math.abs(a);p+=Math.abs(m);r=r&&this.shadowBlur()||0;var q=0;Math.round(h/2)!==h/2&&(q=1);d={width:e+2*r+q,height:p+2*r+q,x:-Math.round(h/2+r)+Math.min(a,0)+d.x,y:-Math.round(h/2+r)+Math.min(m,\n0)+d.y};return b?d:this._transformedRect(d,c)};e.prototype.drawScene=function(a,b,c,d){var h=this.getLayer();a=a||h.getCanvas();var e=a.getContext(),p=this._getCanvasCache(),r=this.sceneFunc(),m=this.hasShadow(),q=this.hasStroke();if(!this.isVisible()&&!c)return this;if(p)return e.save(),h._applyTransform(this,e,b),this._drawCachedSceneCanvas(e),e.restore(),this;if(!r)return this;e.save();this._useBufferCanvas(c)&&!d?(d=this.getStage(),d=d.bufferCanvas,q=d.getContext(),q.clear(),q.save(),q._applyLineJoin(this),\nc||(h?h._applyTransform(this,q,b):(c=this.getAbsoluteTransform(b).getMatrix(),e.transform(c[0],c[1],c[2],c[3],c[4],c[5]))),r.call(this,q,this),q.restore(),c=d.pixelRatio,m&&!a.hitCanvas?(e.save(),e._applyShadow(this),e._applyOpacity(this),e._applyGlobalCompositeOperation(this),e.drawImage(d._canvas,0,0,d.width/c,d.height/c),e.restore()):(e._applyOpacity(this),e._applyGlobalCompositeOperation(this),e.drawImage(d._canvas,0,0,d.width/c,d.height/c))):(e._applyLineJoin(this),c||(h?h._applyTransform(this,\ne,b):(b=this.getAbsoluteTransform(b).getMatrix(),e.transform(b[0],b[1],b[2],b[3],b[4],b[5]))),m&&q&&!a.hitCanvas?(e.save(),c||(e._applyOpacity(this),e._applyGlobalCompositeOperation(this)),e._applyShadow(this),r.call(this,e,this),e.restore(),this.hasFill()&&this.shadowForStrokeEnabled()&&r.call(this,e,this)):m&&!a.hitCanvas?(e.save(),c||(e._applyOpacity(this),e._applyGlobalCompositeOperation(this)),e._applyShadow(this),r.call(this,e,this),e.restore()):(c||(e._applyOpacity(this),e._applyGlobalCompositeOperation(this)),\nr.call(this,e,this)));e.restore();return this};e.prototype.drawHit=function(a,b,c){var d=this.getLayer();a=(a=a||d.hitCanvas)&&a.getContext();var e=this.hitFunc()||this.sceneFunc(),p=this._getCanvasCache();p=p&&p.hit;this.colorKey||(console.log(this),h.Util.warn(\"Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()\"));if(!this.shouldDrawHit()&&!c)return this;\nif(p)return a.save(),d._applyTransform(this,a,b),this._drawCachedHitCanvas(a),a.restore(),this;if(!e)return this;a.save();a._applyLineJoin(this);c||(d?d._applyTransform(this,a,b):(b=this.getAbsoluteTransform(b).getMatrix(),a.transform(b[0],b[1],b[2],b[3],b[4],b[5])));e.call(this,a,this);a.restore();return this};e.prototype.drawHitFromCache=function(a){void 0===a&&(a=0);var b=this._getCanvasCache(),c=this._getCachedSceneCanvas(),d=b.hit;b=d.getContext();var e=d.getWidth();d=d.getHeight();var p;b.clear();\nb.drawImage(c._canvas,0,0,e,d);try{var r=b.getImageData(0,0,e,d);var m=r.data;var q=m.length;var w=h.Util._hexToRgb(this.colorKey);for(p=0;p<q;p+=4){var n=m[p+3];n>a?(m[p]=w.r,m[p+1]=w.g,m[p+2]=w.b,m[p+3]=255):m[p+3]=0}b.putImageData(r,0,0)}catch(ca){h.Util.error(\"Unable to draw hit graph from cached scene canvas. \"+ca.message)}return this};e.prototype.hasPointerCapture=function(a){return p.hasPointerCapture(a,this)};e.prototype.setPointerCapture=function(a){p.setPointerCapture(a,this)};e.prototype.releaseCapture=\nfunction(a){p.releaseCapture(a,this)};return e}(a.Node);k.Shape=e;e.prototype._fillFunc=function(a){a.fill()};e.prototype._strokeFunc=function(a){a.stroke()};e.prototype._fillFuncHit=function(a){a.fill()};e.prototype._strokeFuncHit=function(a){a.stroke()};e.prototype._centroid=!1;e.prototype.nodeType=\"Shape\";c._registerNode(e);n.Factory.addGetterSetter(e,\"stroke\",void 0,t.getStringValidator());n.Factory.addGetterSetter(e,\"strokeWidth\",2,t.getNumberValidator());n.Factory.addGetterSetter(e,\"hitStrokeWidth\",\n\"auto\",t.getNumberOrAutoValidator());n.Factory.addGetterSetter(e,\"strokeHitEnabled\",!0,t.getBooleanValidator());n.Factory.addGetterSetter(e,\"perfectDrawEnabled\",!0,t.getBooleanValidator());n.Factory.addGetterSetter(e,\"shadowForStrokeEnabled\",!0,t.getBooleanValidator());n.Factory.addGetterSetter(e,\"lineJoin\");n.Factory.addGetterSetter(e,\"lineCap\");n.Factory.addGetterSetter(e,\"sceneFunc\");n.Factory.addGetterSetter(e,\"hitFunc\");n.Factory.addGetterSetter(e,\"dash\");n.Factory.addGetterSetter(e,\"dashOffset\",\n0,t.getNumberValidator());n.Factory.addGetterSetter(e,\"shadowColor\",void 0,t.getStringValidator());n.Factory.addGetterSetter(e,\"shadowBlur\",0,t.getNumberValidator());n.Factory.addGetterSetter(e,\"shadowOpacity\",1,t.getNumberValidator());n.Factory.addComponentsGetterSetter(e,\"shadowOffset\",[\"x\",\"y\"]);n.Factory.addGetterSetter(e,\"shadowOffsetX\",0,t.getNumberValidator());n.Factory.addGetterSetter(e,\"shadowOffsetY\",0,t.getNumberValidator());n.Factory.addGetterSetter(e,\"fillPatternImage\");n.Factory.addGetterSetter(e,\n\"fill\",void 0,t.getStringValidator());n.Factory.addGetterSetter(e,\"fillPatternX\",0,t.getNumberValidator());n.Factory.addGetterSetter(e,\"fillPatternY\",0,t.getNumberValidator());n.Factory.addGetterSetter(e,\"fillLinearGradientColorStops\");n.Factory.addGetterSetter(e,\"strokeLinearGradientColorStops\");n.Factory.addGetterSetter(e,\"fillRadialGradientStartRadius\",0);n.Factory.addGetterSetter(e,\"fillRadialGradientEndRadius\",0);n.Factory.addGetterSetter(e,\"fillRadialGradientColorStops\");n.Factory.addGetterSetter(e,\n\"fillPatternRepeat\",\"repeat\");n.Factory.addGetterSetter(e,\"fillEnabled\",!0);n.Factory.addGetterSetter(e,\"strokeEnabled\",!0);n.Factory.addGetterSetter(e,\"shadowEnabled\",!0);n.Factory.addGetterSetter(e,\"dashEnabled\",!0);n.Factory.addGetterSetter(e,\"strokeScaleEnabled\",!0);n.Factory.addGetterSetter(e,\"fillPriority\",\"color\");n.Factory.addComponentsGetterSetter(e,\"fillPatternOffset\",[\"x\",\"y\"]);n.Factory.addGetterSetter(e,\"fillPatternOffsetX\",0,t.getNumberValidator());n.Factory.addGetterSetter(e,\"fillPatternOffsetY\",\n0,t.getNumberValidator());n.Factory.addComponentsGetterSetter(e,\"fillPatternScale\",[\"x\",\"y\"]);n.Factory.addGetterSetter(e,\"fillPatternScaleX\",1,t.getNumberValidator());n.Factory.addGetterSetter(e,\"fillPatternScaleY\",1,t.getNumberValidator());n.Factory.addComponentsGetterSetter(e,\"fillLinearGradientStartPoint\",[\"x\",\"y\"]);n.Factory.addComponentsGetterSetter(e,\"strokeLinearGradientStartPoint\",[\"x\",\"y\"]);n.Factory.addGetterSetter(e,\"fillLinearGradientStartPointX\",0);n.Factory.addGetterSetter(e,\"strokeLinearGradientStartPointX\",\n0);n.Factory.addGetterSetter(e,\"fillLinearGradientStartPointY\",0);n.Factory.addGetterSetter(e,\"strokeLinearGradientStartPointY\",0);n.Factory.addComponentsGetterSetter(e,\"fillLinearGradientEndPoint\",[\"x\",\"y\"]);n.Factory.addComponentsGetterSetter(e,\"strokeLinearGradientEndPoint\",[\"x\",\"y\"]);n.Factory.addGetterSetter(e,\"fillLinearGradientEndPointX\",0);n.Factory.addGetterSetter(e,\"strokeLinearGradientEndPointX\",0);n.Factory.addGetterSetter(e,\"fillLinearGradientEndPointY\",0);n.Factory.addGetterSetter(e,\n\"strokeLinearGradientEndPointY\",0);n.Factory.addComponentsGetterSetter(e,\"fillRadialGradientStartPoint\",[\"x\",\"y\"]);n.Factory.addGetterSetter(e,\"fillRadialGradientStartPointX\",0);n.Factory.addGetterSetter(e,\"fillRadialGradientStartPointY\",0);n.Factory.addComponentsGetterSetter(e,\"fillRadialGradientEndPoint\",[\"x\",\"y\"]);n.Factory.addGetterSetter(e,\"fillRadialGradientEndPointX\",0);n.Factory.addGetterSetter(e,\"fillRadialGradientEndPointY\",0);n.Factory.addGetterSetter(e,\"fillPatternRotation\",0);n.Factory.backCompat(e,\n{dashArray:\"dash\",getDashArray:\"getDash\",setDashArray:\"getDash\",drawFunc:\"sceneFunc\",getDrawFunc:\"getSceneFunc\",setDrawFunc:\"setSceneFunc\",drawHitFunc:\"hitFunc\",getDrawHitFunc:\"getHitFunc\",setDrawHitFunc:\"setHitFunc\"});h.Collection.mapMethods(e)}","~:source","shadow$provide[33] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Util_1 = require(\"./Util\");\nvar Factory_1 = require(\"./Factory\");\nvar Node_1 = require(\"./Node\");\nvar Validators_1 = require(\"./Validators\");\nvar Global_1 = require(\"./Global\");\nvar PointerEvents = require(\"./PointerEvents\");\nvar HAS_SHADOW = 'hasShadow';\nvar SHADOW_RGBA = 'shadowRGBA';\nvar patternImage = 'patternImage';\nvar linearGradient = 'linearGradient';\nvar radialGradient = 'radialGradient';\nvar dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util_1.Util.createCanvasElement().getContext('2d');\n    return dummyContext;\n}\nexports.shapes = {};\nfunction _fillFunc(context) {\n    context.fill();\n}\nfunction _strokeFunc(context) {\n    context.stroke();\n}\nfunction _fillFuncHit(context) {\n    context.fill();\n}\nfunction _strokeFuncHit(context) {\n    context.stroke();\n}\nfunction _clearHasShadowCache() {\n    this._clearCache(HAS_SHADOW);\n}\nfunction _clearGetShadowRGBACache() {\n    this._clearCache(SHADOW_RGBA);\n}\nfunction _clearFillPatternCache() {\n    this._clearCache(patternImage);\n}\nfunction _clearLinearGradientCache() {\n    this._clearCache(linearGradient);\n}\nfunction _clearRadialGradientCache() {\n    this._clearCache(radialGradient);\n}\nvar Shape = (function (_super) {\n    __extends(Shape, _super);\n    function Shape(config) {\n        var _this = _super.call(this, config) || this;\n        var key;\n        while (true) {\n            key = Util_1.Util.getRandomColor();\n            if (key && !(key in exports.shapes)) {\n                break;\n            }\n        }\n        _this.colorKey = key;\n        exports.shapes[key] = _this;\n        _this.on('shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\n        _this.on('shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\n        _this.on('fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva', _clearFillPatternCache);\n        _this.on('fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\n        _this.on('fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\n        return _this;\n    }\n    Shape.prototype.getContext = function () {\n        return this.getLayer().getContext();\n    };\n    Shape.prototype.getCanvas = function () {\n        return this.getLayer().getCanvas();\n    };\n    Shape.prototype.getSceneFunc = function () {\n        return this.attrs.sceneFunc || this['_sceneFunc'];\n    };\n    Shape.prototype.getHitFunc = function () {\n        return this.attrs.hitFunc || this['_hitFunc'];\n    };\n    Shape.prototype.hasShadow = function () {\n        return this._getCache(HAS_SHADOW, this._hasShadow);\n    };\n    Shape.prototype._hasShadow = function () {\n        return (this.shadowEnabled() &&\n            (this.shadowOpacity() !== 0 &&\n                !!(this.shadowColor() ||\n                    this.shadowBlur() ||\n                    this.shadowOffsetX() ||\n                    this.shadowOffsetY())));\n    };\n    Shape.prototype._getFillPattern = function () {\n        return this._getCache(patternImage, this.__getFillPattern);\n    };\n    Shape.prototype.__getFillPattern = function () {\n        if (this.fillPatternImage()) {\n            var ctx = getDummyContext();\n            var pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n            return pattern;\n        }\n    };\n    Shape.prototype._getLinearGradient = function () {\n        return this._getCache(linearGradient, this.__getLinearGradient);\n    };\n    Shape.prototype.__getLinearGradient = function () {\n        var colorStops = this.fillLinearGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillLinearGradientStartPoint();\n            var end = this.fillLinearGradientEndPoint();\n            var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    };\n    Shape.prototype._getRadialGradient = function () {\n        return this._getCache(radialGradient, this.__getRadialGradient);\n    };\n    Shape.prototype.__getRadialGradient = function () {\n        var colorStops = this.fillRadialGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillRadialGradientStartPoint();\n            var end = this.fillRadialGradientEndPoint();\n            var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    };\n    Shape.prototype.getShadowRGBA = function () {\n        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n    };\n    Shape.prototype._getShadowRGBA = function () {\n        if (this.hasShadow()) {\n            var rgba = Util_1.Util.colorToRGBA(this.shadowColor());\n            return ('rgba(' +\n                rgba.r +\n                ',' +\n                rgba.g +\n                ',' +\n                rgba.b +\n                ',' +\n                rgba.a * (this.shadowOpacity() || 1) +\n                ')');\n        }\n    };\n    Shape.prototype.hasFill = function () {\n        return !!(this.fill() ||\n            this.fillPatternImage() ||\n            this.fillLinearGradientColorStops() ||\n            this.fillRadialGradientColorStops());\n    };\n    Shape.prototype.hasStroke = function () {\n        return (this.strokeEnabled() &&\n            this.strokeWidth() &&\n            !!(this.stroke() || this.strokeLinearGradientColorStops()));\n    };\n    Shape.prototype.intersects = function (point) {\n        var stage = this.getStage(), bufferHitCanvas = stage.bufferHitCanvas, p;\n        bufferHitCanvas.getContext().clear();\n        this.drawHit(bufferHitCanvas);\n        p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n        return p[3] > 0;\n    };\n    Shape.prototype.destroy = function () {\n        Node_1.Node.prototype.destroy.call(this);\n        delete exports.shapes[this.colorKey];\n        delete this.colorKey;\n        return this;\n    };\n    Shape.prototype._useBufferCanvas = function (caching) {\n        return !!((!caching || this.hasShadow()) &&\n            this.perfectDrawEnabled() &&\n            this.getAbsoluteOpacity() !== 1 &&\n            this.hasFill() &&\n            this.hasStroke() &&\n            this.getStage());\n    };\n    Shape.prototype.setStrokeHitEnabled = function (val) {\n        if (val) {\n            this.hitStrokeWidth('auto');\n        }\n        else {\n            this.hitStrokeWidth(0);\n        }\n    };\n    Shape.prototype.getStrokeHitEnabled = function () {\n        if (this.hitStrokeWidth() === 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    Shape.prototype.getSelfRect = function () {\n        var size = this.size();\n        return {\n            x: this._centroid ? Math.round(-size.width / 2) : 0,\n            y: this._centroid ? Math.round(-size.height / 2) : 0,\n            width: size.width,\n            height: size.height\n        };\n    };\n    Shape.prototype.getClientRect = function (attrs) {\n        attrs = attrs || {};\n        var skipTransform = attrs.skipTransform;\n        var relativeTo = attrs.relativeTo;\n        var fillRect = this.getSelfRect();\n        var applyStroke = !attrs.skipStroke && this.hasStroke();\n        var strokeWidth = (applyStroke && this.strokeWidth()) || 0;\n        var fillAndStrokeWidth = fillRect.width + strokeWidth;\n        var fillAndStrokeHeight = fillRect.height + strokeWidth;\n        var applyShadow = !attrs.skipShadow && this.hasShadow();\n        var shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n        var shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n        var preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n        var preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n        var blurRadius = (applyShadow && this.shadowBlur()) || 0;\n        var width = preWidth + blurRadius * 2;\n        var height = preHeight + blurRadius * 2;\n        var roundingOffset = 0;\n        if (Math.round(strokeWidth / 2) !== strokeWidth / 2) {\n            roundingOffset = 1;\n        }\n        var rect = {\n            width: width + roundingOffset,\n            height: height + roundingOffset,\n            x: -Math.round(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetX, 0) +\n                fillRect.x,\n            y: -Math.round(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetY, 0) +\n                fillRect.y\n        };\n        if (!skipTransform) {\n            return this._transformedRect(rect, relativeTo);\n        }\n        return rect;\n    };\n    Shape.prototype.drawScene = function (can, top, caching, skipBuffer) {\n        var layer = this.getLayer(), canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.sceneFunc(), hasShadow = this.hasShadow(), hasStroke = this.hasStroke(), stage, bufferCanvas, bufferContext;\n        if (!this.isVisible() && !caching) {\n            return this;\n        }\n        if (cachedCanvas) {\n            context.save();\n            layer._applyTransform(this, context, top);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        if (this._useBufferCanvas(caching) && !skipBuffer) {\n            stage = this.getStage();\n            bufferCanvas = stage.bufferCanvas;\n            bufferContext = bufferCanvas.getContext();\n            bufferContext.clear();\n            bufferContext.save();\n            bufferContext._applyLineJoin(this);\n            if (!caching) {\n                if (layer) {\n                    layer._applyTransform(this, bufferContext, top);\n                }\n                else {\n                    var m = this.getAbsoluteTransform(top).getMatrix();\n                    context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n                }\n            }\n            drawFunc.call(this, bufferContext, this);\n            bufferContext.restore();\n            var ratio = bufferCanvas.pixelRatio;\n            if (hasShadow && !canvas.hitCanvas) {\n                context.save();\n                context._applyShadow(this);\n                context._applyOpacity(this);\n                context._applyGlobalCompositeOperation(this);\n                context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n                context.restore();\n            }\n            else {\n                context._applyOpacity(this);\n                context._applyGlobalCompositeOperation(this);\n                context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n            }\n        }\n        else {\n            context._applyLineJoin(this);\n            if (!caching) {\n                if (layer) {\n                    layer._applyTransform(this, context, top);\n                }\n                else {\n                    var o = this.getAbsoluteTransform(top).getMatrix();\n                    context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n                }\n            }\n            if (hasShadow && hasStroke && !canvas.hitCanvas) {\n                context.save();\n                if (!caching) {\n                    context._applyOpacity(this);\n                    context._applyGlobalCompositeOperation(this);\n                }\n                context._applyShadow(this);\n                drawFunc.call(this, context, this);\n                context.restore();\n                if (this.hasFill() && this.shadowForStrokeEnabled()) {\n                    drawFunc.call(this, context, this);\n                }\n            }\n            else if (hasShadow && !canvas.hitCanvas) {\n                context.save();\n                if (!caching) {\n                    context._applyOpacity(this);\n                    context._applyGlobalCompositeOperation(this);\n                }\n                context._applyShadow(this);\n                drawFunc.call(this, context, this);\n                context.restore();\n            }\n            else {\n                if (!caching) {\n                    context._applyOpacity(this);\n                    context._applyGlobalCompositeOperation(this);\n                }\n                drawFunc.call(this, context, this);\n            }\n        }\n        context.restore();\n        return this;\n    };\n    Shape.prototype.drawHit = function (can, top, caching) {\n        var layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (!this.colorKey) {\n            console.log(this);\n            Util_1.Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()');\n        }\n        if (!this.shouldDrawHit() && !caching) {\n            return this;\n        }\n        if (cachedHitCanvas) {\n            context.save();\n            layer._applyTransform(this, context, top);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        context._applyLineJoin(this);\n        if (!caching) {\n            if (layer) {\n                layer._applyTransform(this, context, top);\n            }\n            else {\n                var o = this.getAbsoluteTransform(top).getMatrix();\n                context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n            }\n        }\n        drawFunc.call(this, context, this);\n        context.restore();\n        return this;\n    };\n    Shape.prototype.drawHitFromCache = function (alphaThreshold) {\n        if (alphaThreshold === void 0) { alphaThreshold = 0; }\n        var cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight(), hitImageData, hitData, len, rgbColorKey, i, alpha;\n        hitContext.clear();\n        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n        try {\n            hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n            hitData = hitImageData.data;\n            len = hitData.length;\n            rgbColorKey = Util_1.Util._hexToRgb(this.colorKey);\n            for (i = 0; i < len; i += 4) {\n                alpha = hitData[i + 3];\n                if (alpha > alphaThreshold) {\n                    hitData[i] = rgbColorKey.r;\n                    hitData[i + 1] = rgbColorKey.g;\n                    hitData[i + 2] = rgbColorKey.b;\n                    hitData[i + 3] = 255;\n                }\n                else {\n                    hitData[i + 3] = 0;\n                }\n            }\n            hitContext.putImageData(hitImageData, 0, 0);\n        }\n        catch (e) {\n            Util_1.Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n        }\n        return this;\n    };\n    Shape.prototype.hasPointerCapture = function (pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    };\n    Shape.prototype.setPointerCapture = function (pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    };\n    Shape.prototype.releaseCapture = function (pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    };\n    return Shape;\n}(Node_1.Node));\nexports.Shape = Shape;\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\nGlobal_1._registerNode(Shape);\nFactory_1.Factory.addGetterSetter(Shape, 'stroke', undefined, Validators_1.getStringValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeWidth', 2, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', Validators_1.getNumberOrAutoValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeHitEnabled', true, Validators_1.getBooleanValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'perfectDrawEnabled', true, Validators_1.getBooleanValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, Validators_1.getBooleanValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'lineJoin');\nFactory_1.Factory.addGetterSetter(Shape, 'lineCap');\nFactory_1.Factory.addGetterSetter(Shape, 'sceneFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'hitFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'dash');\nFactory_1.Factory.addGetterSetter(Shape, 'dashOffset', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowColor', undefined, Validators_1.getStringValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowBlur', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOpacity', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternImage');\nFactory_1.Factory.addGetterSetter(Shape, 'fill', undefined, Validators_1.getStringValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory_1.Factory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleX', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleY', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', [\n    'x',\n    'y'\n]);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', [\n    'x',\n    'y'\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', [\n    'x',\n    'y'\n]);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', [\n    'x',\n    'y'\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', [\n    'x',\n    'y'\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', [\n    'x',\n    'y'\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory_1.Factory.backCompat(Shape, {\n    dashArray: 'dash',\n    getDashArray: 'getDash',\n    setDashArray: 'getDash',\n    drawFunc: 'sceneFunc',\n    getDrawFunc: 'getSceneFunc',\n    setDrawFunc: 'setSceneFunc',\n    drawHitFunc: 'hitFunc',\n    getDrawHitFunc: 'getHitFunc',\n    setDrawHitFunc: 'setHitFunc'\n});\nUtil_1.Collection.mapMethods(Shape);\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$konva$lib$Factory","~$module$node_modules$konva$lib$PointerEvents","~$module$node_modules$konva$lib$Validators","~$shadow.js","~$module$node_modules$konva$lib$Global","~$module$node_modules$konva$lib$Node","~$module$node_modules$konva$lib$Util"]],"~:properties",["^5",["_useBufferCanvas","drawScene","getDashArray","_getShadowRGBA","width","setDashArray","_fillFuncHit","prototype","height","_strokeFunc","getDrawHitFunc","getSceneFunc","setDrawHitFunc","hasShadow","_getRadialGradient","getStrokeHitEnabled","getShadowRGBA","getSelfRect","hasFill","x","__esModule","drawHit","__getLinearGradient","_centroid","nodeType","value","destroy","_getFillPattern","hasStroke","__getRadialGradient","shapes","dashArray","releaseCapture","setPointerCapture","hasPointerCapture","drawFunc","getContext","y","setDrawFunc","__proto__","getClientRect","_fillFunc","_getLinearGradient","__getFillPattern","drawHitFunc","getCanvas","colorKey","_strokeFuncHit","_hasShadow","Shape","getDrawFunc","drawHitFromCache","setStrokeHitEnabled","intersects","getHitFunc","constructor"]],"~:compiled-at",1589761458281,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$konva$lib$Shape.js\",\n\"lineCount\":25,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/konva/lib/Shape.js\"],\n\"sourcesContent\":[\"shadow$provide[33] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __extends = (this && this.__extends) || (function () {\\n    var extendStatics = function (d, b) {\\n        extendStatics = Object.setPrototypeOf ||\\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\\n        return extendStatics(d, b);\\n    };\\n    return function (d, b) {\\n        extendStatics(d, b);\\n        function __() { this.constructor = d; }\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\n    };\\n})();\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nvar Util_1 = require(\\\"./Util\\\");\\nvar Factory_1 = require(\\\"./Factory\\\");\\nvar Node_1 = require(\\\"./Node\\\");\\nvar Validators_1 = require(\\\"./Validators\\\");\\nvar Global_1 = require(\\\"./Global\\\");\\nvar PointerEvents = require(\\\"./PointerEvents\\\");\\nvar HAS_SHADOW = 'hasShadow';\\nvar SHADOW_RGBA = 'shadowRGBA';\\nvar patternImage = 'patternImage';\\nvar linearGradient = 'linearGradient';\\nvar radialGradient = 'radialGradient';\\nvar dummyContext;\\nfunction getDummyContext() {\\n    if (dummyContext) {\\n        return dummyContext;\\n    }\\n    dummyContext = Util_1.Util.createCanvasElement().getContext('2d');\\n    return dummyContext;\\n}\\nexports.shapes = {};\\nfunction _fillFunc(context) {\\n    context.fill();\\n}\\nfunction _strokeFunc(context) {\\n    context.stroke();\\n}\\nfunction _fillFuncHit(context) {\\n    context.fill();\\n}\\nfunction _strokeFuncHit(context) {\\n    context.stroke();\\n}\\nfunction _clearHasShadowCache() {\\n    this._clearCache(HAS_SHADOW);\\n}\\nfunction _clearGetShadowRGBACache() {\\n    this._clearCache(SHADOW_RGBA);\\n}\\nfunction _clearFillPatternCache() {\\n    this._clearCache(patternImage);\\n}\\nfunction _clearLinearGradientCache() {\\n    this._clearCache(linearGradient);\\n}\\nfunction _clearRadialGradientCache() {\\n    this._clearCache(radialGradient);\\n}\\nvar Shape = (function (_super) {\\n    __extends(Shape, _super);\\n    function Shape(config) {\\n        var _this = _super.call(this, config) || this;\\n        var key;\\n        while (true) {\\n            key = Util_1.Util.getRandomColor();\\n            if (key && !(key in exports.shapes)) {\\n                break;\\n            }\\n        }\\n        _this.colorKey = key;\\n        exports.shapes[key] = _this;\\n        _this.on('shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\\n        _this.on('shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\\n        _this.on('fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva', _clearFillPatternCache);\\n        _this.on('fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\\n        _this.on('fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\\n        return _this;\\n    }\\n    Shape.prototype.getContext = function () {\\n        return this.getLayer().getContext();\\n    };\\n    Shape.prototype.getCanvas = function () {\\n        return this.getLayer().getCanvas();\\n    };\\n    Shape.prototype.getSceneFunc = function () {\\n        return this.attrs.sceneFunc || this['_sceneFunc'];\\n    };\\n    Shape.prototype.getHitFunc = function () {\\n        return this.attrs.hitFunc || this['_hitFunc'];\\n    };\\n    Shape.prototype.hasShadow = function () {\\n        return this._getCache(HAS_SHADOW, this._hasShadow);\\n    };\\n    Shape.prototype._hasShadow = function () {\\n        return (this.shadowEnabled() &&\\n            (this.shadowOpacity() !== 0 &&\\n                !!(this.shadowColor() ||\\n                    this.shadowBlur() ||\\n                    this.shadowOffsetX() ||\\n                    this.shadowOffsetY())));\\n    };\\n    Shape.prototype._getFillPattern = function () {\\n        return this._getCache(patternImage, this.__getFillPattern);\\n    };\\n    Shape.prototype.__getFillPattern = function () {\\n        if (this.fillPatternImage()) {\\n            var ctx = getDummyContext();\\n            var pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\\n            return pattern;\\n        }\\n    };\\n    Shape.prototype._getLinearGradient = function () {\\n        return this._getCache(linearGradient, this.__getLinearGradient);\\n    };\\n    Shape.prototype.__getLinearGradient = function () {\\n        var colorStops = this.fillLinearGradientColorStops();\\n        if (colorStops) {\\n            var ctx = getDummyContext();\\n            var start = this.fillLinearGradientStartPoint();\\n            var end = this.fillLinearGradientEndPoint();\\n            var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\\n            for (var n = 0; n < colorStops.length; n += 2) {\\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\\n            }\\n            return grd;\\n        }\\n    };\\n    Shape.prototype._getRadialGradient = function () {\\n        return this._getCache(radialGradient, this.__getRadialGradient);\\n    };\\n    Shape.prototype.__getRadialGradient = function () {\\n        var colorStops = this.fillRadialGradientColorStops();\\n        if (colorStops) {\\n            var ctx = getDummyContext();\\n            var start = this.fillRadialGradientStartPoint();\\n            var end = this.fillRadialGradientEndPoint();\\n            var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\\n            for (var n = 0; n < colorStops.length; n += 2) {\\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\\n            }\\n            return grd;\\n        }\\n    };\\n    Shape.prototype.getShadowRGBA = function () {\\n        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\\n    };\\n    Shape.prototype._getShadowRGBA = function () {\\n        if (this.hasShadow()) {\\n            var rgba = Util_1.Util.colorToRGBA(this.shadowColor());\\n            return ('rgba(' +\\n                rgba.r +\\n                ',' +\\n                rgba.g +\\n                ',' +\\n                rgba.b +\\n                ',' +\\n                rgba.a * (this.shadowOpacity() || 1) +\\n                ')');\\n        }\\n    };\\n    Shape.prototype.hasFill = function () {\\n        return !!(this.fill() ||\\n            this.fillPatternImage() ||\\n            this.fillLinearGradientColorStops() ||\\n            this.fillRadialGradientColorStops());\\n    };\\n    Shape.prototype.hasStroke = function () {\\n        return (this.strokeEnabled() &&\\n            this.strokeWidth() &&\\n            !!(this.stroke() || this.strokeLinearGradientColorStops()));\\n    };\\n    Shape.prototype.intersects = function (point) {\\n        var stage = this.getStage(), bufferHitCanvas = stage.bufferHitCanvas, p;\\n        bufferHitCanvas.getContext().clear();\\n        this.drawHit(bufferHitCanvas);\\n        p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\\n        return p[3] > 0;\\n    };\\n    Shape.prototype.destroy = function () {\\n        Node_1.Node.prototype.destroy.call(this);\\n        delete exports.shapes[this.colorKey];\\n        delete this.colorKey;\\n        return this;\\n    };\\n    Shape.prototype._useBufferCanvas = function (caching) {\\n        return !!((!caching || this.hasShadow()) &&\\n            this.perfectDrawEnabled() &&\\n            this.getAbsoluteOpacity() !== 1 &&\\n            this.hasFill() &&\\n            this.hasStroke() &&\\n            this.getStage());\\n    };\\n    Shape.prototype.setStrokeHitEnabled = function (val) {\\n        if (val) {\\n            this.hitStrokeWidth('auto');\\n        }\\n        else {\\n            this.hitStrokeWidth(0);\\n        }\\n    };\\n    Shape.prototype.getStrokeHitEnabled = function () {\\n        if (this.hitStrokeWidth() === 0) {\\n            return false;\\n        }\\n        else {\\n            return true;\\n        }\\n    };\\n    Shape.prototype.getSelfRect = function () {\\n        var size = this.size();\\n        return {\\n            x: this._centroid ? Math.round(-size.width / 2) : 0,\\n            y: this._centroid ? Math.round(-size.height / 2) : 0,\\n            width: size.width,\\n            height: size.height\\n        };\\n    };\\n    Shape.prototype.getClientRect = function (attrs) {\\n        attrs = attrs || {};\\n        var skipTransform = attrs.skipTransform;\\n        var relativeTo = attrs.relativeTo;\\n        var fillRect = this.getSelfRect();\\n        var applyStroke = !attrs.skipStroke && this.hasStroke();\\n        var strokeWidth = (applyStroke && this.strokeWidth()) || 0;\\n        var fillAndStrokeWidth = fillRect.width + strokeWidth;\\n        var fillAndStrokeHeight = fillRect.height + strokeWidth;\\n        var applyShadow = !attrs.skipShadow && this.hasShadow();\\n        var shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\\n        var shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\\n        var preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\\n        var preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\\n        var blurRadius = (applyShadow && this.shadowBlur()) || 0;\\n        var width = preWidth + blurRadius * 2;\\n        var height = preHeight + blurRadius * 2;\\n        var roundingOffset = 0;\\n        if (Math.round(strokeWidth / 2) !== strokeWidth / 2) {\\n            roundingOffset = 1;\\n        }\\n        var rect = {\\n            width: width + roundingOffset,\\n            height: height + roundingOffset,\\n            x: -Math.round(strokeWidth / 2 + blurRadius) +\\n                Math.min(shadowOffsetX, 0) +\\n                fillRect.x,\\n            y: -Math.round(strokeWidth / 2 + blurRadius) +\\n                Math.min(shadowOffsetY, 0) +\\n                fillRect.y\\n        };\\n        if (!skipTransform) {\\n            return this._transformedRect(rect, relativeTo);\\n        }\\n        return rect;\\n    };\\n    Shape.prototype.drawScene = function (can, top, caching, skipBuffer) {\\n        var layer = this.getLayer(), canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.sceneFunc(), hasShadow = this.hasShadow(), hasStroke = this.hasStroke(), stage, bufferCanvas, bufferContext;\\n        if (!this.isVisible() && !caching) {\\n            return this;\\n        }\\n        if (cachedCanvas) {\\n            context.save();\\n            layer._applyTransform(this, context, top);\\n            this._drawCachedSceneCanvas(context);\\n            context.restore();\\n            return this;\\n        }\\n        if (!drawFunc) {\\n            return this;\\n        }\\n        context.save();\\n        if (this._useBufferCanvas(caching) && !skipBuffer) {\\n            stage = this.getStage();\\n            bufferCanvas = stage.bufferCanvas;\\n            bufferContext = bufferCanvas.getContext();\\n            bufferContext.clear();\\n            bufferContext.save();\\n            bufferContext._applyLineJoin(this);\\n            if (!caching) {\\n                if (layer) {\\n                    layer._applyTransform(this, bufferContext, top);\\n                }\\n                else {\\n                    var m = this.getAbsoluteTransform(top).getMatrix();\\n                    context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\\n                }\\n            }\\n            drawFunc.call(this, bufferContext, this);\\n            bufferContext.restore();\\n            var ratio = bufferCanvas.pixelRatio;\\n            if (hasShadow && !canvas.hitCanvas) {\\n                context.save();\\n                context._applyShadow(this);\\n                context._applyOpacity(this);\\n                context._applyGlobalCompositeOperation(this);\\n                context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\\n                context.restore();\\n            }\\n            else {\\n                context._applyOpacity(this);\\n                context._applyGlobalCompositeOperation(this);\\n                context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\\n            }\\n        }\\n        else {\\n            context._applyLineJoin(this);\\n            if (!caching) {\\n                if (layer) {\\n                    layer._applyTransform(this, context, top);\\n                }\\n                else {\\n                    var o = this.getAbsoluteTransform(top).getMatrix();\\n                    context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\\n                }\\n            }\\n            if (hasShadow && hasStroke && !canvas.hitCanvas) {\\n                context.save();\\n                if (!caching) {\\n                    context._applyOpacity(this);\\n                    context._applyGlobalCompositeOperation(this);\\n                }\\n                context._applyShadow(this);\\n                drawFunc.call(this, context, this);\\n                context.restore();\\n                if (this.hasFill() && this.shadowForStrokeEnabled()) {\\n                    drawFunc.call(this, context, this);\\n                }\\n            }\\n            else if (hasShadow && !canvas.hitCanvas) {\\n                context.save();\\n                if (!caching) {\\n                    context._applyOpacity(this);\\n                    context._applyGlobalCompositeOperation(this);\\n                }\\n                context._applyShadow(this);\\n                drawFunc.call(this, context, this);\\n                context.restore();\\n            }\\n            else {\\n                if (!caching) {\\n                    context._applyOpacity(this);\\n                    context._applyGlobalCompositeOperation(this);\\n                }\\n                drawFunc.call(this, context, this);\\n            }\\n        }\\n        context.restore();\\n        return this;\\n    };\\n    Shape.prototype.drawHit = function (can, top, caching) {\\n        var layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\\n        if (!this.colorKey) {\\n            console.log(this);\\n            Util_1.Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()');\\n        }\\n        if (!this.shouldDrawHit() && !caching) {\\n            return this;\\n        }\\n        if (cachedHitCanvas) {\\n            context.save();\\n            layer._applyTransform(this, context, top);\\n            this._drawCachedHitCanvas(context);\\n            context.restore();\\n            return this;\\n        }\\n        if (!drawFunc) {\\n            return this;\\n        }\\n        context.save();\\n        context._applyLineJoin(this);\\n        if (!caching) {\\n            if (layer) {\\n                layer._applyTransform(this, context, top);\\n            }\\n            else {\\n                var o = this.getAbsoluteTransform(top).getMatrix();\\n                context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\\n            }\\n        }\\n        drawFunc.call(this, context, this);\\n        context.restore();\\n        return this;\\n    };\\n    Shape.prototype.drawHitFromCache = function (alphaThreshold) {\\n        if (alphaThreshold === void 0) { alphaThreshold = 0; }\\n        var cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight(), hitImageData, hitData, len, rgbColorKey, i, alpha;\\n        hitContext.clear();\\n        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\\n        try {\\n            hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\\n            hitData = hitImageData.data;\\n            len = hitData.length;\\n            rgbColorKey = Util_1.Util._hexToRgb(this.colorKey);\\n            for (i = 0; i < len; i += 4) {\\n                alpha = hitData[i + 3];\\n                if (alpha > alphaThreshold) {\\n                    hitData[i] = rgbColorKey.r;\\n                    hitData[i + 1] = rgbColorKey.g;\\n                    hitData[i + 2] = rgbColorKey.b;\\n                    hitData[i + 3] = 255;\\n                }\\n                else {\\n                    hitData[i + 3] = 0;\\n                }\\n            }\\n            hitContext.putImageData(hitImageData, 0, 0);\\n        }\\n        catch (e) {\\n            Util_1.Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\\n        }\\n        return this;\\n    };\\n    Shape.prototype.hasPointerCapture = function (pointerId) {\\n        return PointerEvents.hasPointerCapture(pointerId, this);\\n    };\\n    Shape.prototype.setPointerCapture = function (pointerId) {\\n        PointerEvents.setPointerCapture(pointerId, this);\\n    };\\n    Shape.prototype.releaseCapture = function (pointerId) {\\n        PointerEvents.releaseCapture(pointerId, this);\\n    };\\n    return Shape;\\n}(Node_1.Node));\\nexports.Shape = Shape;\\nShape.prototype._fillFunc = _fillFunc;\\nShape.prototype._strokeFunc = _strokeFunc;\\nShape.prototype._fillFuncHit = _fillFuncHit;\\nShape.prototype._strokeFuncHit = _strokeFuncHit;\\nShape.prototype._centroid = false;\\nShape.prototype.nodeType = 'Shape';\\nGlobal_1._registerNode(Shape);\\nFactory_1.Factory.addGetterSetter(Shape, 'stroke', undefined, Validators_1.getStringValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'strokeWidth', 2, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', Validators_1.getNumberOrAutoValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'strokeHitEnabled', true, Validators_1.getBooleanValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'perfectDrawEnabled', true, Validators_1.getBooleanValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, Validators_1.getBooleanValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'lineJoin');\\nFactory_1.Factory.addGetterSetter(Shape, 'lineCap');\\nFactory_1.Factory.addGetterSetter(Shape, 'sceneFunc');\\nFactory_1.Factory.addGetterSetter(Shape, 'hitFunc');\\nFactory_1.Factory.addGetterSetter(Shape, 'dash');\\nFactory_1.Factory.addGetterSetter(Shape, 'dashOffset', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'shadowColor', undefined, Validators_1.getStringValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'shadowBlur', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOpacity', 1, Validators_1.getNumberValidator());\\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetX', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetY', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternImage');\\nFactory_1.Factory.addGetterSetter(Shape, 'fill', undefined, Validators_1.getStringValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternX', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternY', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\\nFactory_1.Factory.addGetterSetter(Shape, 'fillEnabled', true);\\nFactory_1.Factory.addGetterSetter(Shape, 'strokeEnabled', true);\\nFactory_1.Factory.addGetterSetter(Shape, 'shadowEnabled', true);\\nFactory_1.Factory.addGetterSetter(Shape, 'dashEnabled', true);\\nFactory_1.Factory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillPriority', 'color');\\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleX', 1, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleY', 1, Validators_1.getNumberValidator());\\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', [\\n    'x',\\n    'y'\\n]);\\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', [\\n    'x',\\n    'y'\\n]);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', [\\n    'x',\\n    'y'\\n]);\\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', [\\n    'x',\\n    'y'\\n]);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', [\\n    'x',\\n    'y'\\n]);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', [\\n    'x',\\n    'y'\\n]);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRotation', 0);\\nFactory_1.Factory.backCompat(Shape, {\\n    dashArray: 'dash',\\n    getDashArray: 'getDash',\\n    setDashArray: 'getDash',\\n    drawFunc: 'sceneFunc',\\n    getDrawFunc: 'getSceneFunc',\\n    setDrawFunc: 'setSceneFunc',\\n    drawHitFunc: 'hitFunc',\\n    getDrawHitFunc: 'getHitFunc',\\n    setDrawHitFunc: 'setHitFunc'\\n});\\nUtil_1.Collection.mapMethods(Shape);\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"getDummyContext\",\"dummyContext\",\"Util_1\",\"Util\",\"createCanvasElement\",\"getContext\",\"_clearHasShadowCache\",\"_clearCache\",\"HAS_SHADOW\",\"_clearGetShadowRGBACache\",\"SHADOW_RGBA\",\"_clearFillPatternCache\",\"patternImage\",\"_clearLinearGradientCache\",\"linearGradient\",\"_clearRadialGradientCache\",\"radialGradient\",\"__extends\",\"extendStatics\",\"d\",\"b\",\"Object\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"p\",\"hasOwnProperty\",\"__\",\"constructor\",\"prototype\",\"create\",\"defineProperty\",\"value\",\"Factory_1\",\"Node_1\",\"Validators_1\",\"Global_1\",\"PointerEvents\",\"shapes\",\"Shape\",\"_super\",\"config\",\"_this\",\"call\",\"key\",\"getRandomColor\",\"colorKey\",\"on\",\"Shape.prototype.getContext\",\"getLayer\",\"getCanvas\",\"Shape.prototype.getCanvas\",\"getSceneFunc\",\"Shape.prototype.getSceneFunc\",\"attrs\",\"sceneFunc\",\"getHitFunc\",\"Shape.prototype.getHitFunc\",\"hitFunc\",\"hasShadow\",\"Shape.prototype.hasShadow\",\"_getCache\",\"_hasShadow\",\"Shape.prototype._hasShadow\",\"shadowEnabled\",\"shadowOpacity\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\",\"_getFillPattern\",\"Shape.prototype._getFillPattern\",\"__getFillPattern\",\"Shape.prototype.__getFillPattern\",\"fillPatternImage\",\"ctx\",\"createPattern\",\"pattern\",\"fillPatternRepeat\",\"_getLinearGradient\",\"Shape.prototype._getLinearGradient\",\"__getLinearGradient\",\"Shape.prototype.__getLinearGradient\",\"colorStops\",\"fillLinearGradientColorStops\",\"start\",\"fillLinearGradientStartPoint\",\"end\",\"fillLinearGradientEndPoint\",\"grd\",\"createLinearGradient\",\"x\",\"y\",\"n\",\"length\",\"addColorStop\",\"_getRadialGradient\",\"Shape.prototype._getRadialGradient\",\"__getRadialGradient\",\"Shape.prototype.__getRadialGradient\",\"fillRadialGradientColorStops\",\"fillRadialGradientStartPoint\",\"fillRadialGradientEndPoint\",\"createRadialGradient\",\"fillRadialGradientStartRadius\",\"fillRadialGradientEndRadius\",\"getShadowRGBA\",\"Shape.prototype.getShadowRGBA\",\"_getShadowRGBA\",\"Shape.prototype._getShadowRGBA\",\"rgba\",\"colorToRGBA\",\"r\",\"g\",\"a\",\"hasFill\",\"Shape.prototype.hasFill\",\"fill\",\"hasStroke\",\"Shape.prototype.hasStroke\",\"strokeEnabled\",\"strokeWidth\",\"stroke\",\"strokeLinearGradientColorStops\",\"intersects\",\"Shape.prototype.intersects\",\"point\",\"bufferHitCanvas\",\"getStage\",\"stage\",\"clear\",\"drawHit\",\"context\",\"getImageData\",\"Math\",\"round\",\"data\",\"destroy\",\"Shape.prototype.destroy\",\"Node\",\"_useBufferCanvas\",\"Shape.prototype._useBufferCanvas\",\"caching\",\"perfectDrawEnabled\",\"getAbsoluteOpacity\",\"setStrokeHitEnabled\",\"Shape.prototype.setStrokeHitEnabled\",\"val\",\"hitStrokeWidth\",\"getStrokeHitEnabled\",\"Shape.prototype.getStrokeHitEnabled\",\"getSelfRect\",\"Shape.prototype.getSelfRect\",\"size\",\"_centroid\",\"width\",\"height\",\"getClientRect\",\"Shape.prototype.getClientRect\",\"skipTransform\",\"relativeTo\",\"fillRect\",\"skipStroke\",\"fillAndStrokeWidth\",\"fillAndStrokeHeight\",\"applyShadow\",\"skipShadow\",\"preWidth\",\"abs\",\"preHeight\",\"blurRadius\",\"roundingOffset\",\"rect\",\"min\",\"_transformedRect\",\"drawScene\",\"Shape.prototype.drawScene\",\"can\",\"top\",\"skipBuffer\",\"layer\",\"canvas\",\"cachedCanvas\",\"_getCanvasCache\",\"drawFunc\",\"isVisible\",\"save\",\"_applyTransform\",\"_drawCachedSceneCanvas\",\"restore\",\"bufferCanvas\",\"bufferContext\",\"_applyLineJoin\",\"m\",\"getAbsoluteTransform\",\"getMatrix\",\"transform\",\"ratio\",\"pixelRatio\",\"hitCanvas\",\"_applyShadow\",\"_applyOpacity\",\"_applyGlobalCompositeOperation\",\"drawImage\",\"_canvas\",\"o\",\"shadowForStrokeEnabled\",\"Shape.prototype.drawHit\",\"cachedHitCanvas\",\"hit\",\"console\",\"log\",\"warn\",\"shouldDrawHit\",\"_drawCachedHitCanvas\",\"drawHitFromCache\",\"Shape.prototype.drawHitFromCache\",\"alphaThreshold\",\"sceneCanvas\",\"_getCachedSceneCanvas\",\"hitContext\",\"hitWidth\",\"getWidth\",\"hitHeight\",\"getHeight\",\"i\",\"hitImageData\",\"hitData\",\"len\",\"rgbColorKey\",\"_hexToRgb\",\"alpha\",\"putImageData\",\"e\",\"error\",\"message\",\"hasPointerCapture\",\"Shape.prototype.hasPointerCapture\",\"pointerId\",\"setPointerCapture\",\"Shape.prototype.setPointerCapture\",\"releaseCapture\",\"Shape.prototype.releaseCapture\",\"_fillFunc\",\"_strokeFunc\",\"_fillFuncHit\",\"_strokeFuncHit\",\"nodeType\",\"_registerNode\",\"Factory\",\"addGetterSetter\",\"undefined\",\"getStringValidator\",\"getNumberValidator\",\"getNumberOrAutoValidator\",\"getBooleanValidator\",\"addComponentsGetterSetter\",\"backCompat\",\"dashArray\",\"getDashArray\",\"setDashArray\",\"getDrawFunc\",\"setDrawFunc\",\"drawHitFunc\",\"getDrawHitFunc\",\"setDrawHitFunc\",\"Collection\",\"mapMethods\"]\n}\n"]