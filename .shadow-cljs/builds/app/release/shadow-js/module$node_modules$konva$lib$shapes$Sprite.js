["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/konva/lib/shapes/Sprite.js"],"~:js","shadow$provide[62]=function(n,e,t,k){var w=this&&this.__extends||function(){var e=function(d,b){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return e(d,b)};return function(d,b){function h(){this.constructor=d}e(d,b);d.prototype=null===b?Object.create(b):(h.prototype=b.prototype,new h)}}();Object.defineProperty(k,\"__esModule\",{value:!0});n=e(22);t=e(24);var v=e(33),x=e(37),q=e(23);e=e(21);v=function(e){function d(b){var d=\ne.call(this,b)||this;d._updated=!0;d.anim=new x.Animation(function(){var a=d._updated;d._updated=!1;return a});d.on(\"animationChange.konva\",function(){this.frameIndex(0)});d.on(\"frameIndexChange.konva\",function(){this._updated=!0});d.on(\"frameRateChange.konva\",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())});return d}w(d,e);d.prototype._sceneFunc=function(b){var d=this.animation(),a=this.frameIndex(),c=4*a,e=this.animations()[d],m=this.frameOffsets(),k=e[c+0],\nq=e[c+1],n=e[c+2];c=e[c+3];e=this.image();if(this.hasFill()||this.hasStroke())b.beginPath(),b.rect(0,0,n,c),b.closePath(),b.fillStrokeShape(this);e&&(m?(d=m[d],a*=2,b.drawImage(e,k,q,n,c,d[a+0],d[a+1],n,c)):b.drawImage(e,k,q,n,c,0,0,n,c))};d.prototype._hitFunc=function(b){var d=this.animation(),a=this.frameIndex(),c=4*a,e=this.animations()[d],m=this.frameOffsets(),k=e[c+2];c=e[c+3];b.beginPath();m?(d=m[d],a*=2,b.rect(d[a+0],d[a+1],k,c)):b.rect(0,0,k,c);b.closePath();b.fillShape(this)};d.prototype._useBufferCanvas=\nfunction(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()};d.prototype._setInterval=function(){var b=this;this.interval=setInterval(function(){b._updateIndex()},1E3/this.frameRate())};d.prototype.start=function(){if(!this.isRunning()){var b=this.getLayer();this.anim.setLayers(b);this._setInterval();this.anim.start()}};d.prototype.stop=function(){this.anim.stop();clearInterval(this.interval)};d.prototype.isRunning=function(){return this.anim.isRunning()};d.prototype._updateIndex=\nfunction(){var b=this.frameIndex(),d=this.animation();d=this.animations()[d].length/4;b<d-1?this.frameIndex(b+1):this.frameIndex(0)};return d}(v.Shape);k.Sprite=v;v.prototype.className=\"Sprite\";e._registerNode(v);t.Factory.addGetterSetter(v,\"animation\");t.Factory.addGetterSetter(v,\"animations\");t.Factory.addGetterSetter(v,\"frameOffsets\");t.Factory.addGetterSetter(v,\"image\");t.Factory.addGetterSetter(v,\"frameIndex\",0,q.getNumberValidator());t.Factory.addGetterSetter(v,\"frameRate\",17,q.getNumberValidator());\nt.Factory.backCompat(v,{index:\"frameIndex\",getIndex:\"getFrameIndex\",setIndex:\"setFrameIndex\"});n.Collection.mapMethods(v)}","~:source","shadow$provide[62] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Animation_1 = require(\"../Animation\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar Sprite = (function (_super) {\n    __extends(Sprite, _super);\n    function Sprite(config) {\n        var _this = _super.call(this, config) || this;\n        _this._updated = true;\n        _this.anim = new Animation_1.Animation(function () {\n            var updated = _this._updated;\n            _this._updated = false;\n            return updated;\n        });\n        _this.on('animationChange.konva', function () {\n            this.frameIndex(0);\n        });\n        _this.on('frameIndexChange.konva', function () {\n            this._updated = true;\n        });\n        _this.on('frameRateChange.konva', function () {\n            if (!this.anim.isRunning()) {\n                return;\n            }\n            clearInterval(this.interval);\n            this._setInterval();\n        });\n        return _this;\n    }\n    Sprite.prototype._sceneFunc = function (context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), x = set[ix4 + 0], y = set[ix4 + 1], width = set[ix4 + 2], height = set[ix4 + 3], image = this.image();\n        if (this.hasFill() || this.hasStroke()) {\n            context.beginPath();\n            context.rect(0, 0, width, height);\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        if (image) {\n            if (offsets) {\n                var offset = offsets[anim], ix2 = index * 2;\n                context.drawImage(image, x, y, width, height, offset[ix2 + 0], offset[ix2 + 1], width, height);\n            }\n            else {\n                context.drawImage(image, x, y, width, height, 0, 0, width, height);\n            }\n        }\n    };\n    Sprite.prototype._hitFunc = function (context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), width = set[ix4 + 2], height = set[ix4 + 3];\n        context.beginPath();\n        if (offsets) {\n            var offset = offsets[anim];\n            var ix2 = index * 2;\n            context.rect(offset[ix2 + 0], offset[ix2 + 1], width, height);\n        }\n        else {\n            context.rect(0, 0, width, height);\n        }\n        context.closePath();\n        context.fillShape(this);\n    };\n    Sprite.prototype._useBufferCanvas = function () {\n        return ((this.hasShadow() || this.getAbsoluteOpacity() !== 1) && this.hasStroke());\n    };\n    Sprite.prototype._setInterval = function () {\n        var that = this;\n        this.interval = setInterval(function () {\n            that._updateIndex();\n        }, 1000 / this.frameRate());\n    };\n    Sprite.prototype.start = function () {\n        if (this.isRunning()) {\n            return;\n        }\n        var layer = this.getLayer();\n        this.anim.setLayers(layer);\n        this._setInterval();\n        this.anim.start();\n    };\n    Sprite.prototype.stop = function () {\n        this.anim.stop();\n        clearInterval(this.interval);\n    };\n    Sprite.prototype.isRunning = function () {\n        return this.anim.isRunning();\n    };\n    Sprite.prototype._updateIndex = function () {\n        var index = this.frameIndex(), animation = this.animation(), animations = this.animations(), anim = animations[animation], len = anim.length / 4;\n        if (index < len - 1) {\n            this.frameIndex(index + 1);\n        }\n        else {\n            this.frameIndex(0);\n        }\n    };\n    return Sprite;\n}(Shape_1.Shape));\nexports.Sprite = Sprite;\nSprite.prototype.className = 'Sprite';\nGlobal_1._registerNode(Sprite);\nFactory_1.Factory.addGetterSetter(Sprite, 'animation');\nFactory_1.Factory.addGetterSetter(Sprite, 'animations');\nFactory_1.Factory.addGetterSetter(Sprite, 'frameOffsets');\nFactory_1.Factory.addGetterSetter(Sprite, 'image');\nFactory_1.Factory.addGetterSetter(Sprite, 'frameIndex', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Sprite, 'frameRate', 17, Validators_1.getNumberValidator());\nFactory_1.Factory.backCompat(Sprite, {\n    index: 'frameIndex',\n    getIndex: 'getFrameIndex',\n    setIndex: 'setFrameIndex'\n});\nUtil_1.Collection.mapMethods(Sprite);\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$konva$lib$Factory","~$module$node_modules$konva$lib$Validators","~$shadow.js","~$module$node_modules$konva$lib$Global","~$module$node_modules$konva$lib$Shape","~$module$node_modules$konva$lib$Animation","~$module$node_modules$konva$lib$Util"]],"~:properties",["^5",["stop","_updateIndex","_useBufferCanvas","Sprite","index","prototype","getIndex","_setInterval","className","__esModule","anim","_sceneFunc","value","interval","start","setIndex","_hitFunc","__proto__","_updated","isRunning","constructor"]],"~:compiled-at",1606343224258,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$konva$lib$shapes$Sprite.js\",\n\"lineCount\":6,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/konva/lib/shapes/Sprite.js\"],\n\"sourcesContent\":[\"shadow$provide[62] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __extends = (this && this.__extends) || (function () {\\n    var extendStatics = function (d, b) {\\n        extendStatics = Object.setPrototypeOf ||\\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\\n        return extendStatics(d, b);\\n    };\\n    return function (d, b) {\\n        extendStatics(d, b);\\n        function __() { this.constructor = d; }\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\n    };\\n})();\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nvar Util_1 = require(\\\"../Util\\\");\\nvar Factory_1 = require(\\\"../Factory\\\");\\nvar Shape_1 = require(\\\"../Shape\\\");\\nvar Animation_1 = require(\\\"../Animation\\\");\\nvar Validators_1 = require(\\\"../Validators\\\");\\nvar Global_1 = require(\\\"../Global\\\");\\nvar Sprite = (function (_super) {\\n    __extends(Sprite, _super);\\n    function Sprite(config) {\\n        var _this = _super.call(this, config) || this;\\n        _this._updated = true;\\n        _this.anim = new Animation_1.Animation(function () {\\n            var updated = _this._updated;\\n            _this._updated = false;\\n            return updated;\\n        });\\n        _this.on('animationChange.konva', function () {\\n            this.frameIndex(0);\\n        });\\n        _this.on('frameIndexChange.konva', function () {\\n            this._updated = true;\\n        });\\n        _this.on('frameRateChange.konva', function () {\\n            if (!this.anim.isRunning()) {\\n                return;\\n            }\\n            clearInterval(this.interval);\\n            this._setInterval();\\n        });\\n        return _this;\\n    }\\n    Sprite.prototype._sceneFunc = function (context) {\\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), x = set[ix4 + 0], y = set[ix4 + 1], width = set[ix4 + 2], height = set[ix4 + 3], image = this.image();\\n        if (this.hasFill() || this.hasStroke()) {\\n            context.beginPath();\\n            context.rect(0, 0, width, height);\\n            context.closePath();\\n            context.fillStrokeShape(this);\\n        }\\n        if (image) {\\n            if (offsets) {\\n                var offset = offsets[anim], ix2 = index * 2;\\n                context.drawImage(image, x, y, width, height, offset[ix2 + 0], offset[ix2 + 1], width, height);\\n            }\\n            else {\\n                context.drawImage(image, x, y, width, height, 0, 0, width, height);\\n            }\\n        }\\n    };\\n    Sprite.prototype._hitFunc = function (context) {\\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), width = set[ix4 + 2], height = set[ix4 + 3];\\n        context.beginPath();\\n        if (offsets) {\\n            var offset = offsets[anim];\\n            var ix2 = index * 2;\\n            context.rect(offset[ix2 + 0], offset[ix2 + 1], width, height);\\n        }\\n        else {\\n            context.rect(0, 0, width, height);\\n        }\\n        context.closePath();\\n        context.fillShape(this);\\n    };\\n    Sprite.prototype._useBufferCanvas = function () {\\n        return ((this.hasShadow() || this.getAbsoluteOpacity() !== 1) && this.hasStroke());\\n    };\\n    Sprite.prototype._setInterval = function () {\\n        var that = this;\\n        this.interval = setInterval(function () {\\n            that._updateIndex();\\n        }, 1000 / this.frameRate());\\n    };\\n    Sprite.prototype.start = function () {\\n        if (this.isRunning()) {\\n            return;\\n        }\\n        var layer = this.getLayer();\\n        this.anim.setLayers(layer);\\n        this._setInterval();\\n        this.anim.start();\\n    };\\n    Sprite.prototype.stop = function () {\\n        this.anim.stop();\\n        clearInterval(this.interval);\\n    };\\n    Sprite.prototype.isRunning = function () {\\n        return this.anim.isRunning();\\n    };\\n    Sprite.prototype._updateIndex = function () {\\n        var index = this.frameIndex(), animation = this.animation(), animations = this.animations(), anim = animations[animation], len = anim.length / 4;\\n        if (index < len - 1) {\\n            this.frameIndex(index + 1);\\n        }\\n        else {\\n            this.frameIndex(0);\\n        }\\n    };\\n    return Sprite;\\n}(Shape_1.Shape));\\nexports.Sprite = Sprite;\\nSprite.prototype.className = 'Sprite';\\nGlobal_1._registerNode(Sprite);\\nFactory_1.Factory.addGetterSetter(Sprite, 'animation');\\nFactory_1.Factory.addGetterSetter(Sprite, 'animations');\\nFactory_1.Factory.addGetterSetter(Sprite, 'frameOffsets');\\nFactory_1.Factory.addGetterSetter(Sprite, 'image');\\nFactory_1.Factory.addGetterSetter(Sprite, 'frameIndex', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Sprite, 'frameRate', 17, Validators_1.getNumberValidator());\\nFactory_1.Factory.backCompat(Sprite, {\\n    index: 'frameIndex',\\n    getIndex: 'getFrameIndex',\\n    setIndex: 'setFrameIndex'\\n});\\nUtil_1.Collection.mapMethods(Sprite);\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"__extends\",\"extendStatics\",\"d\",\"b\",\"Object\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"p\",\"hasOwnProperty\",\"__\",\"constructor\",\"prototype\",\"create\",\"defineProperty\",\"value\",\"Util_1\",\"Factory_1\",\"Shape_1\",\"Animation_1\",\"Validators_1\",\"Global_1\",\"Sprite\",\"_super\",\"config\",\"_this\",\"call\",\"_updated\",\"anim\",\"Animation\",\"updated\",\"on\",\"frameIndex\",\"isRunning\",\"clearInterval\",\"interval\",\"_setInterval\",\"_sceneFunc\",\"Sprite.prototype._sceneFunc\",\"context\",\"animation\",\"index\",\"ix4\",\"set\",\"animations\",\"offsets\",\"frameOffsets\",\"x\",\"y\",\"width\",\"height\",\"image\",\"hasFill\",\"hasStroke\",\"beginPath\",\"rect\",\"closePath\",\"fillStrokeShape\",\"offset\",\"drawImage\",\"ix2\",\"_hitFunc\",\"Sprite.prototype._hitFunc\",\"fillShape\",\"_useBufferCanvas\",\"Sprite.prototype._useBufferCanvas\",\"hasShadow\",\"getAbsoluteOpacity\",\"Sprite.prototype._setInterval\",\"that\",\"setInterval\",\"_updateIndex\",\"frameRate\",\"start\",\"Sprite.prototype.start\",\"layer\",\"getLayer\",\"setLayers\",\"stop\",\"Sprite.prototype.stop\",\"Sprite.prototype.isRunning\",\"Sprite.prototype._updateIndex\",\"len\",\"length\",\"Shape\",\"className\",\"_registerNode\",\"Factory\",\"addGetterSetter\",\"getNumberValidator\",\"backCompat\",\"getIndex\",\"setIndex\",\"Collection\",\"mapMethods\"]\n}\n"]