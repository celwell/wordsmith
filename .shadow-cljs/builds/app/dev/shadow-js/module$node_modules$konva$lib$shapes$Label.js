["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/konva/lib/shapes/Label.js"],"~:js","shadow$provide.module$node_modules$konva$lib$shapes$Label=function(global,require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=null===b?Object.create(b):\n(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,\"__esModule\",{value:!0});global=require(\"module$node_modules$konva$lib$Util\");module=require(\"module$node_modules$konva$lib$Factory\");var Shape_1=require(\"module$node_modules$konva$lib$Shape\"),Group_1=require(\"module$node_modules$konva$lib$Group\"),Validators_1=require(\"module$node_modules$konva$lib$Validators\");require=require(\"module$node_modules$konva$lib$Global\");var ATTR_CHANGE_LIST=\"fontFamily fontSize fontStyle padding lineHeight text width\".split(\" \"),\nattrChangeListLen=ATTR_CHANGE_LIST.length;Group_1=function(_super){function Label(config){config=_super.call(this,config)||this;config.on(\"add.konva\",function(evt){this._addListeners(evt.child);this._sync()});return config}__extends(Label,_super);Label.prototype.getText=function(){return this.find(\"Text\")[0]};Label.prototype.getTag=function(){return this.find(\"Tag\")[0]};Label.prototype._addListeners=function(text){var that=this,n,func=function(){that._sync()};for(n=0;n<attrChangeListLen;n++)text.on(ATTR_CHANGE_LIST[n]+\n\"Change.konva\",func)};Label.prototype.getWidth=function(){return this.getText().width()};Label.prototype.getHeight=function(){return this.getText().height()};Label.prototype._sync=function(){var text=this.getText(),tag=this.getTag(),x;if(text&&tag){var width=text.width();var height=text.height();var pointerDirection=tag.pointerDirection();var pointerWidth=tag.pointerWidth();var pointerHeight=tag.pointerHeight();var y=x=0;switch(pointerDirection){case \"up\":x=width/2;y=-1*pointerHeight;break;case \"right\":x=\nwidth+pointerWidth;y=height/2;break;case \"down\":x=width/2;y=height+pointerHeight;break;case \"left\":x=-1*pointerWidth,y=height/2}tag.setAttrs({x:-1*x,y:-1*y,width:width,height:height});text.setAttrs({x:-1*x,y:-1*y})}};return Label}(Group_1.Group);exports.Label=Group_1;Group_1.prototype.className=\"Label\";require._registerNode(Group_1);global.Collection.mapMethods(Group_1);Shape_1=function(_super){function Tag(){return null!==_super&&_super.apply(this,arguments)||this}__extends(Tag,_super);Tag.prototype._sceneFunc=\nfunction(context){var width=this.width(),height=this.height(),pointerDirection=this.pointerDirection(),pointerWidth=this.pointerWidth(),pointerHeight=this.pointerHeight(),cornerRadius=Math.min(this.cornerRadius(),width/2,height/2);context.beginPath();cornerRadius?context.moveTo(cornerRadius,0):context.moveTo(0,0);\"up\"===pointerDirection&&(context.lineTo((width-pointerWidth)/2,0),context.lineTo(width/2,-1*pointerHeight),context.lineTo((width+pointerWidth)/2,0));cornerRadius?(context.lineTo(width-cornerRadius,\n0),context.arc(width-cornerRadius,cornerRadius,cornerRadius,3*Math.PI/2,0,!1)):context.lineTo(width,0);\"right\"===pointerDirection&&(context.lineTo(width,(height-pointerHeight)/2),context.lineTo(width+pointerWidth,height/2),context.lineTo(width,(height+pointerHeight)/2));cornerRadius?(context.lineTo(width,height-cornerRadius),context.arc(width-cornerRadius,height-cornerRadius,cornerRadius,0,Math.PI/2,!1)):context.lineTo(width,height);\"down\"===pointerDirection&&(context.lineTo((width+pointerWidth)/\n2,height),context.lineTo(width/2,height+pointerHeight),context.lineTo((width-pointerWidth)/2,height));cornerRadius?(context.lineTo(cornerRadius,height),context.arc(cornerRadius,height-cornerRadius,cornerRadius,Math.PI/2,Math.PI,!1)):context.lineTo(0,height);\"left\"===pointerDirection&&(context.lineTo(0,(height+pointerHeight)/2),context.lineTo(-1*pointerWidth,height/2),context.lineTo(0,(height-pointerHeight)/2));cornerRadius&&(context.lineTo(0,cornerRadius),context.arc(cornerRadius,cornerRadius,cornerRadius,\nMath.PI,3*Math.PI/2,!1));context.closePath();context.fillStrokeShape(this)};Tag.prototype.getSelfRect=function(){var x=0,y=0,pointerWidth=this.pointerWidth(),pointerHeight=this.pointerHeight(),direction=this.pointerDirection(),width=this.width(),height=this.height();\"up\"===direction?(y-=pointerHeight,height+=pointerHeight):\"down\"===direction?height+=pointerHeight:\"left\"===direction?(x-=1.5*pointerWidth,width+=pointerWidth):\"right\"===direction&&(width+=1.5*pointerWidth);return{x:x,y:y,width:width,\nheight:height}};return Tag}(Shape_1.Shape);exports.Tag=Shape_1;Shape_1.prototype.className=\"Tag\";require._registerNode(Shape_1);module.Factory.addGetterSetter(Shape_1,\"pointerDirection\",\"none\");module.Factory.addGetterSetter(Shape_1,\"pointerWidth\",0,Validators_1.getNumberValidator());module.Factory.addGetterSetter(Shape_1,\"pointerHeight\",0,Validators_1.getNumberValidator());module.Factory.addGetterSetter(Shape_1,\"cornerRadius\",0,Validators_1.getNumberValidator());global.Collection.mapMethods(Shape_1)}","~:source","shadow$provide[\"module$node_modules$konva$lib$shapes$Label\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Group_1 = require(\"../Group\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'padding',\n    'lineHeight',\n    'text',\n    'width'\n], CHANGE_KONVA = 'Change.konva', NONE = 'none', UP = 'up', RIGHT = 'right', DOWN = 'down', LEFT = 'left', attrChangeListLen = ATTR_CHANGE_LIST.length;\nvar Label = (function (_super) {\n    __extends(Label, _super);\n    function Label(config) {\n        var _this = _super.call(this, config) || this;\n        _this.on('add.konva', function (evt) {\n            this._addListeners(evt.child);\n            this._sync();\n        });\n        return _this;\n    }\n    Label.prototype.getText = function () {\n        return this.find('Text')[0];\n    };\n    Label.prototype.getTag = function () {\n        return this.find('Tag')[0];\n    };\n    Label.prototype._addListeners = function (text) {\n        var that = this, n;\n        var func = function () {\n            that._sync();\n        };\n        for (n = 0; n < attrChangeListLen; n++) {\n            text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\n        }\n    };\n    Label.prototype.getWidth = function () {\n        return this.getText().width();\n    };\n    Label.prototype.getHeight = function () {\n        return this.getText().height();\n    };\n    Label.prototype._sync = function () {\n        var text = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y, pointerHeight;\n        if (text && tag) {\n            width = text.width();\n            height = text.height();\n            pointerDirection = tag.pointerDirection();\n            pointerWidth = tag.pointerWidth();\n            pointerHeight = tag.pointerHeight();\n            x = 0;\n            y = 0;\n            switch (pointerDirection) {\n                case UP:\n                    x = width / 2;\n                    y = -1 * pointerHeight;\n                    break;\n                case RIGHT:\n                    x = width + pointerWidth;\n                    y = height / 2;\n                    break;\n                case DOWN:\n                    x = width / 2;\n                    y = height + pointerHeight;\n                    break;\n                case LEFT:\n                    x = -1 * pointerWidth;\n                    y = height / 2;\n                    break;\n            }\n            tag.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n                width: width,\n                height: height\n            });\n            text.setAttrs({\n                x: -1 * x,\n                y: -1 * y\n            });\n        }\n    };\n    return Label;\n}(Group_1.Group));\nexports.Label = Label;\nLabel.prototype.className = 'Label';\nGlobal_1._registerNode(Label);\nUtil_1.Collection.mapMethods(Label);\nvar Tag = (function (_super) {\n    __extends(Tag, _super);\n    function Tag() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Tag.prototype._sceneFunc = function (context) {\n        var width = this.width(), height = this.height(), pointerDirection = this.pointerDirection(), pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), cornerRadius = Math.min(this.cornerRadius(), width / 2, height / 2);\n        context.beginPath();\n        if (!cornerRadius) {\n            context.moveTo(0, 0);\n        }\n        else {\n            context.moveTo(cornerRadius, 0);\n        }\n        if (pointerDirection === UP) {\n            context.lineTo((width - pointerWidth) / 2, 0);\n            context.lineTo(width / 2, -1 * pointerHeight);\n            context.lineTo((width + pointerWidth) / 2, 0);\n        }\n        if (!cornerRadius) {\n            context.lineTo(width, 0);\n        }\n        else {\n            context.lineTo(width - cornerRadius, 0);\n            context.arc(width - cornerRadius, cornerRadius, cornerRadius, (Math.PI * 3) / 2, 0, false);\n        }\n        if (pointerDirection === RIGHT) {\n            context.lineTo(width, (height - pointerHeight) / 2);\n            context.lineTo(width + pointerWidth, height / 2);\n            context.lineTo(width, (height + pointerHeight) / 2);\n        }\n        if (!cornerRadius) {\n            context.lineTo(width, height);\n        }\n        else {\n            context.lineTo(width, height - cornerRadius);\n            context.arc(width - cornerRadius, height - cornerRadius, cornerRadius, 0, Math.PI / 2, false);\n        }\n        if (pointerDirection === DOWN) {\n            context.lineTo((width + pointerWidth) / 2, height);\n            context.lineTo(width / 2, height + pointerHeight);\n            context.lineTo((width - pointerWidth) / 2, height);\n        }\n        if (!cornerRadius) {\n            context.lineTo(0, height);\n        }\n        else {\n            context.lineTo(cornerRadius, height);\n            context.arc(cornerRadius, height - cornerRadius, cornerRadius, Math.PI / 2, Math.PI, false);\n        }\n        if (pointerDirection === LEFT) {\n            context.lineTo(0, (height + pointerHeight) / 2);\n            context.lineTo(-1 * pointerWidth, height / 2);\n            context.lineTo(0, (height - pointerHeight) / 2);\n        }\n        if (cornerRadius) {\n            context.lineTo(0, cornerRadius);\n            context.arc(cornerRadius, cornerRadius, cornerRadius, Math.PI, (Math.PI * 3) / 2, false);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    Tag.prototype.getSelfRect = function () {\n        var x = 0, y = 0, pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), direction = this.pointerDirection(), width = this.width(), height = this.height();\n        if (direction === UP) {\n            y -= pointerHeight;\n            height += pointerHeight;\n        }\n        else if (direction === DOWN) {\n            height += pointerHeight;\n        }\n        else if (direction === LEFT) {\n            x -= pointerWidth * 1.5;\n            width += pointerWidth;\n        }\n        else if (direction === RIGHT) {\n            width += pointerWidth * 1.5;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height\n        };\n    };\n    return Tag;\n}(Shape_1.Shape));\nexports.Tag = Tag;\nTag.prototype.className = 'Tag';\nGlobal_1._registerNode(Tag);\nFactory_1.Factory.addGetterSetter(Tag, 'pointerDirection', NONE);\nFactory_1.Factory.addGetterSetter(Tag, 'pointerWidth', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Tag, 'pointerHeight', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Tag, 'cornerRadius', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Tag);\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$konva$lib$Factory","~$module$node_modules$konva$lib$Validators","~$shadow.js","~$module$node_modules$konva$lib$Global","~$module$node_modules$konva$lib$Shape","~$module$node_modules$konva$lib$Group","~$module$node_modules$konva$lib$Util"]],"~:properties",["^5",["width","getWidth","getTag","prototype","height","className","getSelfRect","x","__esModule","getText","_sync","_sceneFunc","value","getHeight","Label","y","__proto__","_addListeners","Tag","constructor"]],"~:compiled-at",1606342205840,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$konva$lib$shapes$Label.js\",\n\"lineCount\":10,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/konva/lib/shapes/Label.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$konva$lib$shapes$Label\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __extends = (this && this.__extends) || (function () {\\n    var extendStatics = function (d, b) {\\n        extendStatics = Object.setPrototypeOf ||\\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\\n        return extendStatics(d, b);\\n    };\\n    return function (d, b) {\\n        extendStatics(d, b);\\n        function __() { this.constructor = d; }\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\n    };\\n})();\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nvar Util_1 = require(\\\"../Util\\\");\\nvar Factory_1 = require(\\\"../Factory\\\");\\nvar Shape_1 = require(\\\"../Shape\\\");\\nvar Group_1 = require(\\\"../Group\\\");\\nvar Validators_1 = require(\\\"../Validators\\\");\\nvar Global_1 = require(\\\"../Global\\\");\\nvar ATTR_CHANGE_LIST = [\\n    'fontFamily',\\n    'fontSize',\\n    'fontStyle',\\n    'padding',\\n    'lineHeight',\\n    'text',\\n    'width'\\n], CHANGE_KONVA = 'Change.konva', NONE = 'none', UP = 'up', RIGHT = 'right', DOWN = 'down', LEFT = 'left', attrChangeListLen = ATTR_CHANGE_LIST.length;\\nvar Label = (function (_super) {\\n    __extends(Label, _super);\\n    function Label(config) {\\n        var _this = _super.call(this, config) || this;\\n        _this.on('add.konva', function (evt) {\\n            this._addListeners(evt.child);\\n            this._sync();\\n        });\\n        return _this;\\n    }\\n    Label.prototype.getText = function () {\\n        return this.find('Text')[0];\\n    };\\n    Label.prototype.getTag = function () {\\n        return this.find('Tag')[0];\\n    };\\n    Label.prototype._addListeners = function (text) {\\n        var that = this, n;\\n        var func = function () {\\n            that._sync();\\n        };\\n        for (n = 0; n < attrChangeListLen; n++) {\\n            text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\\n        }\\n    };\\n    Label.prototype.getWidth = function () {\\n        return this.getText().width();\\n    };\\n    Label.prototype.getHeight = function () {\\n        return this.getText().height();\\n    };\\n    Label.prototype._sync = function () {\\n        var text = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y, pointerHeight;\\n        if (text && tag) {\\n            width = text.width();\\n            height = text.height();\\n            pointerDirection = tag.pointerDirection();\\n            pointerWidth = tag.pointerWidth();\\n            pointerHeight = tag.pointerHeight();\\n            x = 0;\\n            y = 0;\\n            switch (pointerDirection) {\\n                case UP:\\n                    x = width / 2;\\n                    y = -1 * pointerHeight;\\n                    break;\\n                case RIGHT:\\n                    x = width + pointerWidth;\\n                    y = height / 2;\\n                    break;\\n                case DOWN:\\n                    x = width / 2;\\n                    y = height + pointerHeight;\\n                    break;\\n                case LEFT:\\n                    x = -1 * pointerWidth;\\n                    y = height / 2;\\n                    break;\\n            }\\n            tag.setAttrs({\\n                x: -1 * x,\\n                y: -1 * y,\\n                width: width,\\n                height: height\\n            });\\n            text.setAttrs({\\n                x: -1 * x,\\n                y: -1 * y\\n            });\\n        }\\n    };\\n    return Label;\\n}(Group_1.Group));\\nexports.Label = Label;\\nLabel.prototype.className = 'Label';\\nGlobal_1._registerNode(Label);\\nUtil_1.Collection.mapMethods(Label);\\nvar Tag = (function (_super) {\\n    __extends(Tag, _super);\\n    function Tag() {\\n        return _super !== null && _super.apply(this, arguments) || this;\\n    }\\n    Tag.prototype._sceneFunc = function (context) {\\n        var width = this.width(), height = this.height(), pointerDirection = this.pointerDirection(), pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), cornerRadius = Math.min(this.cornerRadius(), width / 2, height / 2);\\n        context.beginPath();\\n        if (!cornerRadius) {\\n            context.moveTo(0, 0);\\n        }\\n        else {\\n            context.moveTo(cornerRadius, 0);\\n        }\\n        if (pointerDirection === UP) {\\n            context.lineTo((width - pointerWidth) / 2, 0);\\n            context.lineTo(width / 2, -1 * pointerHeight);\\n            context.lineTo((width + pointerWidth) / 2, 0);\\n        }\\n        if (!cornerRadius) {\\n            context.lineTo(width, 0);\\n        }\\n        else {\\n            context.lineTo(width - cornerRadius, 0);\\n            context.arc(width - cornerRadius, cornerRadius, cornerRadius, (Math.PI * 3) / 2, 0, false);\\n        }\\n        if (pointerDirection === RIGHT) {\\n            context.lineTo(width, (height - pointerHeight) / 2);\\n            context.lineTo(width + pointerWidth, height / 2);\\n            context.lineTo(width, (height + pointerHeight) / 2);\\n        }\\n        if (!cornerRadius) {\\n            context.lineTo(width, height);\\n        }\\n        else {\\n            context.lineTo(width, height - cornerRadius);\\n            context.arc(width - cornerRadius, height - cornerRadius, cornerRadius, 0, Math.PI / 2, false);\\n        }\\n        if (pointerDirection === DOWN) {\\n            context.lineTo((width + pointerWidth) / 2, height);\\n            context.lineTo(width / 2, height + pointerHeight);\\n            context.lineTo((width - pointerWidth) / 2, height);\\n        }\\n        if (!cornerRadius) {\\n            context.lineTo(0, height);\\n        }\\n        else {\\n            context.lineTo(cornerRadius, height);\\n            context.arc(cornerRadius, height - cornerRadius, cornerRadius, Math.PI / 2, Math.PI, false);\\n        }\\n        if (pointerDirection === LEFT) {\\n            context.lineTo(0, (height + pointerHeight) / 2);\\n            context.lineTo(-1 * pointerWidth, height / 2);\\n            context.lineTo(0, (height - pointerHeight) / 2);\\n        }\\n        if (cornerRadius) {\\n            context.lineTo(0, cornerRadius);\\n            context.arc(cornerRadius, cornerRadius, cornerRadius, Math.PI, (Math.PI * 3) / 2, false);\\n        }\\n        context.closePath();\\n        context.fillStrokeShape(this);\\n    };\\n    Tag.prototype.getSelfRect = function () {\\n        var x = 0, y = 0, pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), direction = this.pointerDirection(), width = this.width(), height = this.height();\\n        if (direction === UP) {\\n            y -= pointerHeight;\\n            height += pointerHeight;\\n        }\\n        else if (direction === DOWN) {\\n            height += pointerHeight;\\n        }\\n        else if (direction === LEFT) {\\n            x -= pointerWidth * 1.5;\\n            width += pointerWidth;\\n        }\\n        else if (direction === RIGHT) {\\n            width += pointerWidth * 1.5;\\n        }\\n        return {\\n            x: x,\\n            y: y,\\n            width: width,\\n            height: height\\n        };\\n    };\\n    return Tag;\\n}(Shape_1.Shape));\\nexports.Tag = Tag;\\nTag.prototype.className = 'Tag';\\nGlobal_1._registerNode(Tag);\\nFactory_1.Factory.addGetterSetter(Tag, 'pointerDirection', NONE);\\nFactory_1.Factory.addGetterSetter(Tag, 'pointerWidth', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Tag, 'pointerHeight', 0, Validators_1.getNumberValidator());\\nFactory_1.Factory.addGetterSetter(Tag, 'cornerRadius', 0, Validators_1.getNumberValidator());\\nUtil_1.Collection.mapMethods(Tag);\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"__extends\",\"extendStatics\",\"d\",\"b\",\"Object\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"p\",\"hasOwnProperty\",\"__\",\"constructor\",\"prototype\",\"create\",\"defineProperty\",\"value\",\"Util_1\",\"Factory_1\",\"Shape_1\",\"Group_1\",\"Validators_1\",\"Global_1\",\"ATTR_CHANGE_LIST\",\"attrChangeListLen\",\"length\",\"Label\",\"_super\",\"config\",\"_this\",\"call\",\"on\",\"evt\",\"_addListeners\",\"child\",\"_sync\",\"getText\",\"Label.prototype.getText\",\"find\",\"getTag\",\"Label.prototype.getTag\",\"Label.prototype._addListeners\",\"text\",\"that\",\"n\",\"func\",\"CHANGE_KONVA\",\"getWidth\",\"Label.prototype.getWidth\",\"width\",\"getHeight\",\"Label.prototype.getHeight\",\"height\",\"Label.prototype._sync\",\"tag\",\"x\",\"pointerDirection\",\"pointerWidth\",\"pointerHeight\",\"y\",\"UP\",\"RIGHT\",\"DOWN\",\"LEFT\",\"setAttrs\",\"Group\",\"className\",\"_registerNode\",\"Collection\",\"mapMethods\",\"Tag\",\"apply\",\"arguments\",\"_sceneFunc\",\"Tag.prototype._sceneFunc\",\"context\",\"cornerRadius\",\"Math\",\"min\",\"beginPath\",\"moveTo\",\"lineTo\",\"arc\",\"PI\",\"closePath\",\"fillStrokeShape\",\"getSelfRect\",\"Tag.prototype.getSelfRect\",\"direction\",\"Shape\",\"Factory\",\"addGetterSetter\",\"NONE\",\"getNumberValidator\"]\n}\n"]