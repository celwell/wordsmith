{
"version":3,
"file":"module$node_modules$konva$lib$Animation.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/konva/lib/Animation.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$konva$lib$Animation\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Global_1 = require(\"./Global\");\nvar now = (function () {\n    if (Global_1.glob.performance && Global_1.glob.performance.now) {\n        return function () {\n            return Global_1.glob.performance.now();\n        };\n    }\n    return function () {\n        return new Date().getTime();\n    };\n})();\nvar Animation = (function () {\n    function Animation(func, layers) {\n        this.id = Animation.animIdCounter++;\n        this.frame = {\n            time: 0,\n            timeDiff: 0,\n            lastTime: now(),\n            frameRate: 0\n        };\n        this.func = func;\n        this.setLayers(layers);\n    }\n    Animation.prototype.setLayers = function (layers) {\n        var lays = [];\n        if (!layers) {\n            lays = [];\n        }\n        else if (layers.length > 0) {\n            lays = layers;\n        }\n        else {\n            lays = [layers];\n        }\n        this.layers = lays;\n        return this;\n    };\n    Animation.prototype.getLayers = function () {\n        return this.layers;\n    };\n    Animation.prototype.addLayer = function (layer) {\n        var layers = this.layers, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            if (layers[n]._id === layer._id) {\n                return false;\n            }\n        }\n        this.layers.push(layer);\n        return true;\n    };\n    Animation.prototype.isRunning = function () {\n        var a = Animation, animations = a.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === this.id) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Animation.prototype.start = function () {\n        this.stop();\n        this.frame.timeDiff = 0;\n        this.frame.lastTime = now();\n        Animation._addAnimation(this);\n        return this;\n    };\n    Animation.prototype.stop = function () {\n        Animation._removeAnimation(this);\n        return this;\n    };\n    Animation.prototype._updateFrameObject = function (time) {\n        this.frame.timeDiff = time - this.frame.lastTime;\n        this.frame.lastTime = time;\n        this.frame.time += this.frame.timeDiff;\n        this.frame.frameRate = 1000 / this.frame.timeDiff;\n    };\n    Animation._addAnimation = function (anim) {\n        this.animations.push(anim);\n        this._handleAnimation();\n    };\n    Animation._removeAnimation = function (anim) {\n        var id = anim.id, animations = this.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === id) {\n                this.animations.splice(n, 1);\n                break;\n            }\n        }\n    };\n    Animation._runFrames = function () {\n        var layerHash = {}, animations = this.animations, anim, layers, func, n, i, layersLen, layer, key, needRedraw;\n        for (n = 0; n < animations.length; n++) {\n            anim = animations[n];\n            layers = anim.layers;\n            func = anim.func;\n            anim._updateFrameObject(now());\n            layersLen = layers.length;\n            if (func) {\n                needRedraw = func.call(anim, anim.frame) !== false;\n            }\n            else {\n                needRedraw = true;\n            }\n            if (!needRedraw) {\n                continue;\n            }\n            for (i = 0; i < layersLen; i++) {\n                layer = layers[i];\n                if (layer._id !== undefined) {\n                    layerHash[layer._id] = layer;\n                }\n            }\n        }\n        for (key in layerHash) {\n            if (!layerHash.hasOwnProperty(key)) {\n                continue;\n            }\n            layerHash[key].draw();\n        }\n    };\n    Animation._animationLoop = function () {\n        var Anim = Animation;\n        if (Anim.animations.length) {\n            Anim._runFrames();\n            requestAnimationFrame(Anim._animationLoop);\n        }\n        else {\n            Anim.animRunning = false;\n        }\n    };\n    Animation._handleAnimation = function () {\n        if (!this.animRunning) {\n            this.animRunning = true;\n            requestAnimationFrame(this._animationLoop);\n        }\n    };\n    Animation.animations = [];\n    Animation.animIdCounter = 0;\n    Animation.animRunning = false;\n    return Animation;\n}());\nexports.Animation = Animation;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Global_1","now","glob","performance","getTime","Date","Animation","func","layers","id","animIdCounter","frame","time","timeDiff","lastTime","frameRate","setLayers","prototype","Animation.prototype.setLayers","lays","length","getLayers","Animation.prototype.getLayers","addLayer","Animation.prototype.addLayer","layer","len","n","_id","push","isRunning","Animation.prototype.isRunning","animations","start","Animation.prototype.start","stop","_addAnimation","Animation.prototype.stop","_removeAnimation","_updateFrameObject","Animation.prototype._updateFrameObject","Animation._addAnimation","anim","_handleAnimation","Animation._removeAnimation","splice","_runFrames","Animation._runFrames","layerHash","key","layersLen","needRedraw","call","i","undefined","hasOwnProperty","draw","_animationLoop","Animation._animationLoop","requestAnimationFrame","animRunning","Animation._handleAnimation"]
}
