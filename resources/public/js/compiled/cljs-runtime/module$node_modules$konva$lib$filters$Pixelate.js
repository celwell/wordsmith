shadow$provide.module$node_modules$konva$lib$filters$Pixelate=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$konva$lib$Factory");var Util_1=require("module$node_modules$konva$lib$Util");module=require("module$node_modules$konva$lib$Node");require=require("module$node_modules$konva$lib$Validators");exports.Pixelate=function(imageData){var pixelSize=Math.ceil(this.pixelSize()),width=imageData.width,height=imageData.height,
y,red,green,blue,nBinsX=Math.ceil(width/pixelSize),nBinsY=Math.ceil(height/pixelSize),xBin,yBin,data=imageData.data;if(0>=pixelSize)Util_1.Util.error("pixelSize value can not be \x3c\x3d 0");else for(xBin=0;xBin<nBinsX;xBin+=1)for(yBin=0;yBin<nBinsY;yBin+=1){var alpha=blue=green=red=0;var xBinStart=xBin*pixelSize;var xBinEnd=xBinStart+pixelSize;var yBinStart=yBin*pixelSize;var yBinEnd=yBinStart+pixelSize;var pixelsInBin=0;for(imageData=xBinStart;imageData<xBinEnd;imageData+=1)if(!(imageData>=width))for(y=
yBinStart;y<yBinEnd;y+=1)if(!(y>=height)){var i=4*(width*y+imageData);red+=data[i+0];green+=data[i+1];blue+=data[i+2];alpha+=data[i+3];pixelsInBin+=1}red/=pixelsInBin;green/=pixelsInBin;blue/=pixelsInBin;alpha/=pixelsInBin;for(imageData=xBinStart;imageData<xBinEnd;imageData+=1)if(!(imageData>=width))for(y=yBinStart;y<yBinEnd;y+=1)y>=height||(i=4*(width*y+imageData),data[i+0]=red,data[i+1]=green,data[i+2]=blue,data[i+3]=alpha)}};global.Factory.addGetterSetter(module.Node,"pixelSize",8,require.getNumberValidator(),
global.Factory.afterSetFilter)}
//# sourceMappingURL=module$node_modules$konva$lib$filters$Pixelate.js.map
