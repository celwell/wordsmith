shadow$provide.module$node_modules$konva$lib$filters$Enhance=function(global,require,module,exports){function remap(fromValue,fromMin,fromMax,toMin,toMax){fromMax-=fromMin;toMax-=toMin;return 0===fromMax?toMin+toMax/2:0===toMax?toMin:(fromValue-fromMin)/fromMax*toMax+toMin}Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$konva$lib$Factory");module=require("module$node_modules$konva$lib$Node");require=require("module$node_modules$konva$lib$Validators");exports.Enhance=
function(imageData){imageData=imageData.data;var nSubPixels=imageData.length,rMin=imageData[0],rMax=rMin,gMin=imageData[1],gMax=gMin,bMin=imageData[2],bMax=bMin,i,enhanceAmount=this.enhance();if(0!==enhanceAmount){for(i=0;i<nSubPixels;i+=4){var r=imageData[i+0];r<rMin?rMin=r:r>rMax&&(rMax=r);r=imageData[i+1];r<gMin?gMin=r:r>gMax&&(gMax=r);r=imageData[i+2];r<bMin?bMin=r:r>bMax&&(bMax=r)}rMax===rMin&&(rMax=255,rMin=0);gMax===gMin&&(gMax=255,gMin=0);bMax===bMin&&(bMax=255,bMin=0);if(0<enhanceAmount){r=
rMax+enhanceAmount*(255-rMax);var rGoalMin=rMin-enhanceAmount*(rMin-0);var gGoalMax=gMax+enhanceAmount*(255-gMax);var gGoalMin=gMin-enhanceAmount*(gMin-0);var bGoalMax=bMax+enhanceAmount*(255-bMax);enhanceAmount=bMin-enhanceAmount*(bMin-0)}else i=.5*(rMax+rMin),r=rMax+enhanceAmount*(rMax-i),rGoalMin=rMin+enhanceAmount*(rMin-i),i=.5*(gMax+gMin),gGoalMax=gMax+enhanceAmount*(gMax-i),gGoalMin=gMin+enhanceAmount*(gMin-i),i=.5*(bMax+bMin),bGoalMax=bMax+enhanceAmount*(bMax-i),enhanceAmount=bMin+enhanceAmount*
(bMin-i);for(i=0;i<nSubPixels;i+=4)imageData[i+0]=remap(imageData[i+0],rMin,rMax,rGoalMin,r),imageData[i+1]=remap(imageData[i+1],gMin,gMax,gGoalMin,gGoalMax),imageData[i+2]=remap(imageData[i+2],bMin,bMax,enhanceAmount,bGoalMax)}};global.Factory.addGetterSetter(module.Node,"enhance",0,require.getNumberValidator(),global.Factory.afterSetFilter)}
//# sourceMappingURL=module$node_modules$konva$lib$filters$Enhance.js.map
